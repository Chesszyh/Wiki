
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://wiki.neurosama.uk/ragflow_deepwiki/6-document-processing-pipeline/6.2-chunking-methods/">
      
      
        <link rel="prev" href="../6.1-document-parsing-strategies/">
      
      
        <link rel="next" href="../6.3-content-enhancement-and-embedding/">
      
      
        
          <link rel="alternate" href="./" hreflang="en">
        
          <link rel="alternate" href="../../../zh/ragflow_deepwiki/6-document-processing-pipeline/6.2-chunking-methods/" hreflang="zh">
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Chunking Methods - DeepWiki</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#chunking-methods" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="DeepWiki" class="md-header__button md-logo" aria-label="DeepWiki" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DeepWiki
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Chunking Methods
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="Select language">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="./" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../../../zh/ragflow_deepwiki/6-document-processing-pipeline/6.2-chunking-methods/" hreflang="zh" class="md-select__link">
              中文
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/Chesszyh/Wiki" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
  
    
  
  Welcome to DeepWiki

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../celery_deepwiki/1-celery-overview/1.1-installation-and-setup/" class="md-tabs__link">
          
  
  
  Celery deepwiki

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../lc0_deepwiki/1-lc0-overview/" class="md-tabs__link">
          
  
  
  Lc0 deepwiki

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../linux_deepwiki/1-linux-kernel-overview/" class="md-tabs__link">
          
  
  
  Linux deepwiki

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../1-overview/" class="md-tabs__link">
          
  
  
  Ragflow deepwiki

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../redis_deepwiki/1-redis-overview/" class="md-tabs__link">
          
  
  
  Redis deepwiki

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../stockfish_deepwiki/2-core-data-structures-and-types/" class="md-tabs__link">
          
  
  
  Stockfish deepwiki

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="DeepWiki" class="md-nav__button md-logo" aria-label="DeepWiki" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    DeepWiki
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Chesszyh/Wiki" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Welcome to DeepWiki
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Celery deepwiki
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Celery deepwiki
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    1 celery overview
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    1 celery overview
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/1-celery-overview/1.1-installation-and-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation and Setup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/1-celery-overview/1.2-core-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Core Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/1-celery-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Celery Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    2 the celery application
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    2 the celery application
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/2-the-celery-application/2.1-application-initialization-and-configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Application Initialization and Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/2-the-celery-application/2.2-task-registration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Task Registration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/2-the-celery-application/2.3-message-brokers-and-routing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Message Brokers and Routing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/2-the-celery-application/2.4-amqp-layer-and-message-protocol/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AMQP Layer and Message Protocol
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/2-the-celery-application/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    The Celery Application
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    3 tasks
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    3 tasks
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/3-tasks/3.1-task-definition-and-invocation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Task Definition and Invocation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/3-tasks/3.2-task-lifecycle-and-states/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Task Lifecycle and States
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/3-tasks/3.3-error-handling-and-retry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Error Handling and Retry
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/3-tasks/3.4-time-limits-and-rate-limits/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Time Limits and Rate Limits
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/3-tasks/3.5-task-options-and-customization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Task Options and Customization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/3-tasks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tasks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7" >
        
          
          <label class="md-nav__link" for="__nav_2_7" id="__nav_2_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    4 canvas workflows
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    4 canvas workflows
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/4-canvas-workflows/4.1-signatures/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Signature and Composition
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/4-canvas-workflows/4.2-workflow-primitives/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Workflow Primitives
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/4-canvas-workflows/4.3-advanced-canvas-features/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Advanced Canvas Features
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/4-canvas-workflows/4.4-chord-execution/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chord Execution
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/4-canvas-workflows/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Canvas Workflows
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_9" >
        
          
          <label class="md-nav__link" for="__nav_2_9" id="__nav_2_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    5 workers
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    5 workers
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/5-workers/5.1-worker-architecture-and-bootsteps/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Worker Architecture and Bootsteps
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/5-workers/5.2-worker-lifecycle-and-shutdown/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Worker Lifecycle and Shutdown
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/5-workers/5.3-concurrency-models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Concurrency Models
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/5-workers/5.4-worker-configuration-and-control/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Worker Configuration and Control
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/5-workers/5.5-consumer-and-event-loops/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Consumer and Event Loops
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/5-workers/5.6-autoscaling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Autoscaling
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/5-workers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Workers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_11" >
        
          
          <label class="md-nav__link" for="__nav_2_11" id="__nav_2_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    6 result backends
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_11">
            <span class="md-nav__icon md-icon"></span>
            
  
    6 result backends
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/6-result-backends/6.1-backend-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Backend Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/6-result-backends/6.2-backend-implementations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Backend Implementations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/6-result-backends/6.3-result-storage-and-retrieval/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Result Serialization and Retrieval
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/6-result-backends/6.4-chord-coordination/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chord Coordination
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/6-result-backends/6.5-backend-resilience/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Error Handling and Resilience
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/6-result-backends/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Result Backends
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_13" >
        
          
          <label class="md-nav__link" for="__nav_2_13" id="__nav_2_13_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    7 periodic tasks (beat)
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_13">
            <span class="md-nav__icon md-icon"></span>
            
  
    7 periodic tasks (beat)
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/7-periodic-tasks-%28beat%29/7.1-beat-scheduler-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Beat Scheduler Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/7-periodic-tasks-%28beat%29/7.2-schedule-types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Schedule Types
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/7-periodic-tasks-%28beat%29/7.3-time-and-timezone-handling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Time and Timezone Handling
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/7-periodic-tasks-%28beat%29/7.4-persistent-storage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Persistent Storage
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/7-periodic-tasks-%28beat%29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Periodic Tasks (Beat)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_15" >
        
          
          <label class="md-nav__link" for="__nav_2_15" id="__nav_2_15_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    8 monitoring and control
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_15">
            <span class="md-nav__icon md-icon"></span>
            
  
    8 monitoring and control
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/8-monitoring-and-control/8.1-remote-control-commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Remote Control Commands
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/8-monitoring-and-control/8.2-worker-inspection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Worker Inspection
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/8-monitoring-and-control/8.3-event-system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Event System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/8-monitoring-and-control/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Monitoring and Control
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_17" >
        
          
          <label class="md-nav__link" for="__nav_2_17" id="__nav_2_17_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    9 command line interface
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_17_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_17">
            <span class="md-nav__icon md-icon"></span>
            
  
    9 command line interface
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/9-command-line-interface/9.1-cli-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CLI Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/9-command-line-interface/9.2-worker-and-beat-commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Worker and Beat Commands
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/9-command-line-interface/9.3-management-commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Management Commands
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/9-command-line-interface/9.4-multi-worker-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Multi-worker Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/9-command-line-interface/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Command Line Interface
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_19" >
        
          
          <label class="md-nav__link" for="__nav_2_19" id="__nav_2_19_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    10 development and testing
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_19_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_19">
            <span class="md-nav__icon md-icon"></span>
            
  
    10 development and testing
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/10-development-and-testing/10.1-testing-infrastructure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Testing Infrastructure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/10-development-and-testing/10.2-test-matrix-and-environments/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Test Matrix and Environments
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/10-development-and-testing/10.3-integration-and-smoke-tests/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Integration and Smoke Tests
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/10-development-and-testing/10.4-code-quality-and-documentation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Code Quality and Documentation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/10-development-and-testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Development and Testing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_21" >
        
          
          <label class="md-nav__link" for="__nav_2_21" id="__nav_2_21_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    11 packaging and distribution
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_21_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_21">
            <span class="md-nav__icon md-icon"></span>
            
  
    11 packaging and distribution
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/11-packaging-and-distribution/11.1-package-structure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Package Structure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/11-packaging-and-distribution/11.2-dependencies-and-extras/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Dependencies and Extras
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/11-packaging-and-distribution/11.3-version-management-and-release/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Version Management and Release
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/11-packaging-and-distribution/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Packaging and Distribution
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Lc0 deepwiki
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Lc0 deepwiki
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/1-lc0-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lc0 Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    2 building and installation
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    2 building and installation
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/2-building-and-installation/2.1-build-system-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Build System Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/2-building-and-installation/2.2-linux-and-macos-build-process/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Linux and macOS Build Process
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/2-building-and-installation/2.3-windows-build-process/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Windows Build Process
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/2-building-and-installation/2.4-version-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Version Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/2-building-and-installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Building and Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    3 core engine architecture
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    3 core engine architecture
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/3-core-engine-architecture/3.1-uci-protocol-implementation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    UCI Protocol Implementation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/3-core-engine-architecture/3.2-configuration-system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuration System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/3-core-engine-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Core Engine Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    4 chess representation
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    4 chess representation
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/4-chess-representation/4.1-bitboards-and-move-generation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Bitboards
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/4-chess-representation/4.2-position-encoding-and-history/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Position Encoding and History
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/4-chess-representation/4.3-syzygy-tablebase-integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Syzygy Tablebase Integration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/4-chess-representation/4.4-pgn-and-game-import/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    PGN and Game Import
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/4-chess-representation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chess Representation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_8" >
        
          
          <label class="md-nav__link" for="__nav_3_8" id="__nav_3_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    5 search algorithm
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    5 search algorithm
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/5-search-algorithm/5.1-mcts-implementation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MCTS Implementation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/5-search-algorithm/5.2-search-parameters-and-stopping-conditions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Search Parameters and Stopping Conditions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/5-search-algorithm/5.3-search-tree-caching/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Caching System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/5-search-algorithm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Search Algorithm
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_10" >
        
          
          <label class="md-nav__link" for="__nav_3_10" id="__nav_3_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    6 neural network system
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    6 neural network system
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/6-neural-network-system/6.1-network-interface-and-backend-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Network Interface and Backend Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/6-neural-network-system/6.2-weights-loading-and-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Weights Loading and Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/6-neural-network-system/6.3-cuda-and-cudnn-backend/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CUDA and cuDNN Backend
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/6-neural-network-system/6.4-onnx-integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ONNX Integration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/6-neural-network-system/6.5-xla-and-hlo-support/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    XLA and HLO Support
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/6-neural-network-system/6.6-memory-caching-and-performance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Memory Caching and Performance
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/6-neural-network-system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Neural Network System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_12" >
        
          
          <label class="md-nav__link" for="__nav_3_12" id="__nav_3_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    7 self play system
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_12">
            <span class="md-nav__icon md-icon"></span>
            
  
    7 self play system
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/7-self-play-system/7.1-tournament-organization-and-game-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tournament Organization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/7-self-play-system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Self-Play System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_14" >
        
          
          <label class="md-nav__link" for="__nav_3_14" id="__nav_3_14_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    8 utilities and infrastructure
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_14">
            <span class="md-nav__icon md-icon"></span>
            
  
    8 utilities and infrastructure
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/8-utilities-and-infrastructure/8.1-fast-mathematical-functions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Fast Mathematical Functions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/8-utilities-and-infrastructure/8.2-threading-and-synchronization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Threading and Synchronization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/8-utilities-and-infrastructure/8.3-benchmarking-and-performance-testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Benchmarking and Performance Testing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/8-utilities-and-infrastructure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Utilities and Infrastructure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_16" >
        
          
          <label class="md-nav__link" for="__nav_3_16" id="__nav_3_16_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    9 continuous integration and deployment
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_16">
            <span class="md-nav__icon md-icon"></span>
            
  
    9 continuous integration and deployment
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/9-continuous-integration-and-deployment/9.1-circleci-workflows/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CircleCI Workflows
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/9-continuous-integration-and-deployment/9.2-windows-build-and-packaging/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Windows Build and Packaging
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/9-continuous-integration-and-deployment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Continuous Integration and Deployment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Linux deepwiki
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Linux deepwiki
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../linux_deepwiki/1-linux-kernel-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Linux Kernel Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    2 rust for linux
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    2 rust for linux
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../linux_deepwiki/2-rust-for-linux/2.1-rust-kernel-apis-and-abstractions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Rust Kernel APIs and Abstractions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../linux_deepwiki/2-rust-for-linux/2.2-nova-drm-graphics-driver/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Nova DRM Graphics Driver
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../linux_deepwiki/2-rust-for-linux/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Rust for Linux
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    3 virtualization (kvm)
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    3 virtualization (kvm)
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../linux_deepwiki/3-virtualization-%28kvm%29/3.1-kvm-x86-virtualization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    KVM x86 Virtualization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../linux_deepwiki/3-virtualization-%28kvm%29/3.2-kvm-arm64-virtualization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    KVM ARM64 Virtualization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../linux_deepwiki/3-virtualization-%28kvm%29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Virtualization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_6" >
        
          
          <label class="md-nav__link" for="__nav_4_6" id="__nav_4_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    4 core kernel infrastructure
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    4 core kernel infrastructure
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../linux_deepwiki/4-core-kernel-infrastructure/4.1-process-scheduling-and-sched_ext/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Process Scheduling and sched_ext
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../linux_deepwiki/4-core-kernel-infrastructure/4.2-tracing-and-observability/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tracing and Observability
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../linux_deepwiki/4-core-kernel-infrastructure/4.3-build-system-and-kbuild/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Build System and Kbuild
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../linux_deepwiki/4-core-kernel-infrastructure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Core Kernel Infrastructure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_8" >
        
          
          <label class="md-nav__link" for="__nav_4_8" id="__nav_4_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    5 storage and io
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    5 storage and io
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../linux_deepwiki/5-storage-and-io/5.1-io_uring-asynchronous-io/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    io_uring Asynchronous I/O
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../linux_deepwiki/5-storage-and-io/5.2-btrfs-copy-on-write-filesystem/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Btrfs Copy-on-Write Filesystem
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../linux_deepwiki/5-storage-and-io/5.3-ufs-storage-controller/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    UFS Storage Controller
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../linux_deepwiki/5-storage-and-io/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Storage and I/O
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_10" >
        
          
          <label class="md-nav__link" for="__nav_4_10" id="__nav_4_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    6 graphics and display
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    6 graphics and display
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../linux_deepwiki/6-graphics-and-display/6.1-amdgpu-driver/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AMDGPU Driver
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../linux_deepwiki/6-graphics-and-display/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Graphics and Display
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Ragflow deepwiki
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Ragflow deepwiki
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    2 getting started and deployment
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    2 getting started and deployment
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2-getting-started-and-deployment/2.1-docker-compose-deployment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Docker Compose Deployment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2-getting-started-and-deployment/2.4-build-system-and-cicd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Build System and CI/CD
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2-getting-started-and-deployment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Getting Started and Deployment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4" >
        
          
          <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    3 system architecture
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    3 system architecture
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../3-system-architecture/3.1-core-application-services/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Core Application Services
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../3-system-architecture/3.2-data-storage-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Data Storage Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../3-system-architecture/3.3-task-execution-and-queue-system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Task Execution and Queue System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../3-system-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    System Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_6" >
        
          
          <label class="md-nav__link" for="__nav_5_6" id="__nav_5_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    4 frontend application
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    4 frontend application
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../4-frontend-application/4.1-internationalization-system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Internationalization System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../4-frontend-application/4.2-application-structure-and-ui-features/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Application Structure and Routing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../4-frontend-application/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Frontend Application
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_8" >
        
          
          <label class="md-nav__link" for="__nav_5_8" id="__nav_5_8_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    5 llm integration system
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    5 llm integration system
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../5-llm-integration-system/5.1-model-factory-pattern-and-registration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Model Factory Pattern and Registration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../5-llm-integration-system/5.2-provider-implementations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Provider Implementations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../5-llm-integration-system/5.3-error-handling-and-retry-logic/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Error Handling and Retry Logic
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../5-llm-integration-system/5.4-tenant-configuration-and-usage-tracking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tenant Configuration and Usage Tracking
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../5-llm-integration-system/5.5-tool-calling-and-function-use/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tool Calling and Function Use
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../5-llm-integration-system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    LLM Integration System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_10" checked>
        
          
          <label class="md-nav__link" for="__nav_5_10" id="__nav_5_10_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    6 document processing pipeline
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_10_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    6 document processing pipeline
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../6.1-document-parsing-strategies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Document Parsing Strategies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Chunking Methods
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Chunking Methods
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#purpose-and-scope" class="md-nav__link">
    <span class="md-ellipsis">
      
        Purpose and Scope
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#core-chunking-strategies" class="md-nav__link">
    <span class="md-ellipsis">
      
        Core Chunking Strategies
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configuration Parameters
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configuration Parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#core-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Core Parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#advanced-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Advanced Parameters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chunking-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Chunking Workflow
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#detailed-method-descriptions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Detailed Method Descriptions
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Detailed Method Descriptions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#naive-method" class="md-nav__link">
    <span class="md-ellipsis">
      
        Naive Method
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hierarchical-methods-paper-book-manual-laws" class="md-nav__link">
    <span class="md-ellipsis">
      
        Hierarchical Methods (Paper, Book, Manual, Laws)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#qa-method" class="md-nav__link">
    <span class="md-ellipsis">
      
        QA Method
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table-method" class="md-nav__link">
    <span class="md-ellipsis">
      
        Table Method
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#presentation-method" class="md-nav__link">
    <span class="md-ellipsis">
      
        Presentation Method
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#one-method" class="md-nav__link">
    <span class="md-ellipsis">
      
        One Method
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picture-method" class="md-nav__link">
    <span class="md-ellipsis">
      
        Picture Method
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#text-merging-algorithms" class="md-nav__link">
    <span class="md-ellipsis">
      
        Text Merging Algorithms
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Text Merging Algorithms">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#naive-merge" class="md-nav__link">
    <span class="md-ellipsis">
      
        Naive Merge
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column-detection-and-multi-column-handling" class="md-nav__link">
    <span class="md-ellipsis">
      
        Column Detection and Multi-Column Handling
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vertical-merge-_naive_vertical_merge" class="md-nav__link">
    <span class="md-ellipsis">
      
        Vertical Merge (_naive_vertical_merge)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reading-order-determination-_concat_downward" class="md-nav__link">
    <span class="md-ellipsis">
      
        Reading Order Determination (_concat_downward)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hierarchical-merge" class="md-nav__link">
    <span class="md-ellipsis">
      
        Hierarchical Merge
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tree-merge-laws-specific" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tree Merge (Laws-Specific)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docx-specific-merge-naive_merge_docx" class="md-nav__link">
    <span class="md-ellipsis">
      
        DOCX-Specific Merge (naive_merge_docx)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-features" class="md-nav__link">
    <span class="md-ellipsis">
      
        Advanced Features
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Advanced Features">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#context-attachment" class="md-nav__link">
    <span class="md-ellipsis">
      
        Context Attachment
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#child-delimiter-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      
        Child Delimiter Pattern
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#position-tracking" class="md-nav__link">
    <span class="md-ellipsis">
      
        Position Tracking
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tokenization-process" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tokenization Process
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#method-selection-guide" class="md-nav__link">
    <span class="md-ellipsis">
      
        Method Selection Guide
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integration-with-document-processing-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      
        Integration with Document Processing Pipeline
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../6.3-content-enhancement-and-embedding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Content Enhancement and Embedding
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../6.4-layout-recognition-and-ocr/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Layout Recognition and OCR
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../6.5-knowledge-graph-construction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Knowledge Graph Construction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../6.6-raptor-hierarchical-summarization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    RAPTOR Hierarchical Summarization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Document Processing Pipeline
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_12" >
        
          
          <label class="md-nav__link" for="__nav_5_12" id="__nav_5_12_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    7 data source integration
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_12">
            <span class="md-nav__icon md-icon"></span>
            
  
    7 data source integration
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../7-data-source-integration/7.1-connector-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Connector Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../7-data-source-integration/7.2-synchronization-and-scheduling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Synchronization and Scheduling
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../7-data-source-integration/7.3-supported-data-sources/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Supported Data Sources
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../7-data-source-integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Data Source Integration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_14" >
        
          
          <label class="md-nav__link" for="__nav_5_14" id="__nav_5_14_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    8 backend api system
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_14">
            <span class="md-nav__icon md-icon"></span>
            
  
    8 backend api system
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../8-backend-api-system/8.1-api-architecture-and-sdk/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API Architecture and SDK
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../8-backend-api-system/8.2-authentication-and-authorization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Authentication and Multi-tenancy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../8-backend-api-system/8.3-dataset-and-knowledge-base-apis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Dataset and Knowledge Base APIs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../8-backend-api-system/8.4-document-and-file-management-apis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Document and File Management APIs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../8-backend-api-system/8.5-chat-and-conversation-apis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chat and Conversation APIs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../8-backend-api-system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Backend API System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_16" >
        
          
          <label class="md-nav__link" for="__nav_5_16" id="__nav_5_16_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    9 agent and workflow system
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_16">
            <span class="md-nav__icon md-icon"></span>
            
  
    9 agent and workflow system
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../9-agent-and-workflow-system/9.1-canvas-engine-and-dsl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Canvas Engine and DSL
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../9-agent-and-workflow-system/9.2-component-system-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Component System Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../9-agent-and-workflow-system/9.3-built-in-components/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Built-in Components
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../9-agent-and-workflow-system/9.4-workflow-execution-and-streaming/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Workflow Execution and Streaming
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../9-agent-and-workflow-system/9.5-state-and-variable-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    State and Variable Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../9-agent-and-workflow-system/9.6-agent-tools-and-react-loop/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Agent Tools and ReAct Loop
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../9-agent-and-workflow-system/9.7-canvas-api-and-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Canvas API and Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../9-agent-and-workflow-system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Agent and Workflow System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_18" >
        
          
          <label class="md-nav__link" for="__nav_5_18" id="__nav_5_18_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    10 retrieval and rag system
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_18_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_18">
            <span class="md-nav__icon md-icon"></span>
            
  
    10 retrieval and rag system
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../10-retrieval-and-rag-system/10.1-query-processing-and-refinement/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Query Processing and Refinement
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../10-retrieval-and-rag-system/10.2-hybrid-search-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hybrid Search Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../10-retrieval-and-rag-system/10.3-reranking-and-metadata-filtering/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Reranking and Metadata Filtering
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../10-retrieval-and-rag-system/10.4-response-generation-and-citations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Response Generation and Citations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../10-retrieval-and-rag-system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Retrieval and RAG System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Redis deepwiki
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Redis deepwiki
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/1-redis-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Redis Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2" >
        
          
          <label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    2 redis core
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    2 redis core
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/2-redis-core/2.1-server-architecture-and-lifecycle/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Server Architecture and Lifecycle
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/2-redis-core/2.2-client-connection-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Client Connection Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/2-redis-core/2.3-command-processing-pipeline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Command Processing Pipeline
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/2-redis-core/2.4-configuration-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuration Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/2-redis-core/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Redis Core
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_4" >
        
          
          <label class="md-nav__link" for="__nav_6_4" id="__nav_6_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    3 data storage and management
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    3 data storage and management
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/3-data-storage-and-management/3.1-core-data-types-implementation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Core Data Types Implementation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/3-data-storage-and-management/3.2-streams-and-blocking-operations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Streams and Blocking Operations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/3-data-storage-and-management/3.3-hyperloglog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HyperLogLog
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/3-data-storage-and-management/3.4-memory-efficient-data-structures/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Memory-Efficient Data Structures
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/3-data-storage-and-management/3.5-dictionary-and-key-value-store/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Dictionary and Key-Value Store
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/3-data-storage-and-management/3.6-dynamic-string-library/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Dynamic String Library
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/3-data-storage-and-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Data Storage and Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_6" >
        
          
          <label class="md-nav__link" for="__nav_6_6" id="__nav_6_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    4 memory management
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    4 memory management
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/4-memory-management/4.1-eviction-and-expiration-policies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Eviction and Expiration Policies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/4-memory-management/4.2-memory-allocators-and-build-system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Memory Allocators and Build System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/4-memory-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Memory Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_8" >
        
          
          <label class="md-nav__link" for="__nav_6_8" id="__nav_6_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    5 scripting and extensions
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    5 scripting and extensions
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/5-scripting-and-extensions/5.1-lua-scripting-and-redis-functions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lua Scripting and Redis Functions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/5-scripting-and-extensions/5.2-redis-module-api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Redis Module API
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/5-scripting-and-extensions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Scripting and Extensions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_10" >
        
          
          <label class="md-nav__link" for="__nav_6_10" id="__nav_6_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    6 high availability and distribution
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    6 high availability and distribution
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/6-high-availability-and-distribution/6.1-redis-cluster/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Redis Cluster
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/6-high-availability-and-distribution/6.2-redis-sentinel/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Redis Sentinel
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/6-high-availability-and-distribution/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    High Availability and Scaling
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/7-persistence-and-replication/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Persistence and Replication
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_13" >
        
          
          <label class="md-nav__link" for="__nav_6_13" id="__nav_6_13_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    8 security
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_13">
            <span class="md-nav__icon md-icon"></span>
            
  
    8 security
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/8-security/8.1-access-control-lists/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Access Control Lists
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/8-security/8.2-network-security-and-tls/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Network Security and TLS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/8-security/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Security
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_15" >
        
          
          <label class="md-nav__link" for="__nav_6_15" id="__nav_6_15_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    9 client tools
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_15">
            <span class="md-nav__icon md-icon"></span>
            
  
    9 client tools
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/9-client-tools/9.1-redis-cli-and-benchmark-tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Redis CLI and Benchmark Tools
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/9-client-tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Client Tools
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_17" >
        
          
          <label class="md-nav__link" for="__nav_6_17" id="__nav_6_17_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    10 development and testing
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_17_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_17">
            <span class="md-nav__icon md-icon"></span>
            
  
    10 development and testing
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/10-development-and-testing/10.1-build-system-and-dependencies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Build System and Dependencies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/10-development-and-testing/10.2-testing-framework/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Testing Framework
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/10-development-and-testing/10.3-continuous-integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Continuous Integration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/10-development-and-testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Development and Testing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Stockfish deepwiki
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Stockfish deepwiki
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../stockfish_deepwiki/2-core-data-structures-and-types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Core Data Structures and Types
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2" >
        
          
          <label class="md-nav__link" for="__nav_7_2" id="__nav_7_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    3 board representation
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    3 board representation
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../stockfish_deepwiki/3-board-representation/3.1-position-and-state-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Position and State Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../stockfish_deepwiki/3-board-representation/3.2-bitboards-and-low-level-operations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Bitboards and Low-level Operations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../stockfish_deepwiki/3-board-representation/3.3-move-generation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Move Generation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../stockfish_deepwiki/3-board-representation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Board Representation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4" >
        
          
          <label class="md-nav__link" for="__nav_7_4" id="__nav_7_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    4 search system
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    4 search system
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../stockfish_deepwiki/4-search-system/4.1-search-algorithm-and-iterative-deepening/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Search Algorithm and Iterative Deepening
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../stockfish_deepwiki/4-search-system/4.2-thread-management-and-parallel-search/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Thread Management and Parallel Search
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../stockfish_deepwiki/4-search-system/4.3-move-ordering-and-move-picker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Move Ordering and Move Picker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../stockfish_deepwiki/4-search-system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Search System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_6" >
        
          
          <label class="md-nav__link" for="__nav_7_6" id="__nav_7_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    5 evaluation system
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    5 evaluation system
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../stockfish_deepwiki/5-evaluation-system/5.1-nnue-neural-network-evaluation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    NNUE Neural Network Evaluation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../stockfish_deepwiki/5-evaluation-system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Evaluation System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_8" >
        
          
          <label class="md-nav__link" for="__nav_7_8" id="__nav_7_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    6 external interface
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    6 external interface
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../stockfish_deepwiki/6-external-interface/6.1-uci-protocol-handler/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    UCI Protocol Handler
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../stockfish_deepwiki/6-external-interface/6.2-uci-options-and-configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    UCI Options and Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../stockfish_deepwiki/6-external-interface/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    External Interface
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_10" >
        
          
          <label class="md-nav__link" for="__nav_7_10" id="__nav_7_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    7 infrastructure and support
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    7 infrastructure and support
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../stockfish_deepwiki/7-infrastructure-and-support/7.1-build-system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Build System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../stockfish_deepwiki/7-infrastructure-and-support/7.2-utilities-and-support-functions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Utilities and Support Functions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../stockfish_deepwiki/7-infrastructure-and-support/7.3-testing-and-benchmarking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Testing and Benchmarking
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../stockfish_deepwiki/7-infrastructure-and-support/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Infrastructure and Support
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#purpose-and-scope" class="md-nav__link">
    <span class="md-ellipsis">
      
        Purpose and Scope
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#core-chunking-strategies" class="md-nav__link">
    <span class="md-ellipsis">
      
        Core Chunking Strategies
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configuration Parameters
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configuration Parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#core-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Core Parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#advanced-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Advanced Parameters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chunking-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Chunking Workflow
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#detailed-method-descriptions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Detailed Method Descriptions
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Detailed Method Descriptions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#naive-method" class="md-nav__link">
    <span class="md-ellipsis">
      
        Naive Method
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hierarchical-methods-paper-book-manual-laws" class="md-nav__link">
    <span class="md-ellipsis">
      
        Hierarchical Methods (Paper, Book, Manual, Laws)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#qa-method" class="md-nav__link">
    <span class="md-ellipsis">
      
        QA Method
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table-method" class="md-nav__link">
    <span class="md-ellipsis">
      
        Table Method
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#presentation-method" class="md-nav__link">
    <span class="md-ellipsis">
      
        Presentation Method
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#one-method" class="md-nav__link">
    <span class="md-ellipsis">
      
        One Method
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picture-method" class="md-nav__link">
    <span class="md-ellipsis">
      
        Picture Method
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#text-merging-algorithms" class="md-nav__link">
    <span class="md-ellipsis">
      
        Text Merging Algorithms
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Text Merging Algorithms">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#naive-merge" class="md-nav__link">
    <span class="md-ellipsis">
      
        Naive Merge
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column-detection-and-multi-column-handling" class="md-nav__link">
    <span class="md-ellipsis">
      
        Column Detection and Multi-Column Handling
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vertical-merge-_naive_vertical_merge" class="md-nav__link">
    <span class="md-ellipsis">
      
        Vertical Merge (_naive_vertical_merge)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reading-order-determination-_concat_downward" class="md-nav__link">
    <span class="md-ellipsis">
      
        Reading Order Determination (_concat_downward)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hierarchical-merge" class="md-nav__link">
    <span class="md-ellipsis">
      
        Hierarchical Merge
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tree-merge-laws-specific" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tree Merge (Laws-Specific)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docx-specific-merge-naive_merge_docx" class="md-nav__link">
    <span class="md-ellipsis">
      
        DOCX-Specific Merge (naive_merge_docx)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-features" class="md-nav__link">
    <span class="md-ellipsis">
      
        Advanced Features
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Advanced Features">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#context-attachment" class="md-nav__link">
    <span class="md-ellipsis">
      
        Context Attachment
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#child-delimiter-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      
        Child Delimiter Pattern
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#position-tracking" class="md-nav__link">
    <span class="md-ellipsis">
      
        Position Tracking
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tokenization-process" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tokenization Process
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#method-selection-guide" class="md-nav__link">
    <span class="md-ellipsis">
      
        Method Selection Guide
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integration-with-document-processing-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      
        Integration with Document Processing Pipeline
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="chunking-methods">Chunking Methods<a class="headerlink" href="#chunking-methods" title="Permanent link">&para;</a></h1>
<p>Relevant source files</p>
<ul>
<li><a href="https://github.com/infiniflow/ragflow/blob/80a16e71/deepdoc/parser/excel_parser.py">deepdoc/parser/excel_parser.py</a></li>
<li><a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/book.py">rag/app/book.py</a></li>
<li><a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/laws.py">rag/app/laws.py</a></li>
<li><a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/manual.py">rag/app/manual.py</a></li>
<li><a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/naive.py">rag/app/naive.py</a></li>
<li><a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/one.py">rag/app/one.py</a></li>
<li><a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/paper.py">rag/app/paper.py</a></li>
<li><a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/presentation.py">rag/app/presentation.py</a></li>
<li><a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/qa.py">rag/app/qa.py</a></li>
<li><a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/table.py">rag/app/table.py</a></li>
<li><a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/nlp/__init__.py">rag/nlp/__init__.py</a></li>
</ul>
<h2 id="purpose-and-scope">Purpose and Scope<a class="headerlink" href="#purpose-and-scope" title="Permanent link">&para;</a></h2>
<p>This document describes the chunking methods available in RAGFlow for splitting documents into retrievable chunks. Chunking is the process of breaking down parsed documents into semantically meaningful segments that can be indexed and retrieved during RAG operations.</p>
<p>For information about document parsing strategies that precede chunking, see <a href="/infiniflow/ragflow/6.1-document-parsing-strategies">Document Parsing Strategies</a>. For embedding generation that follows chunking, see <a href="/infiniflow/ragflow/6.3-content-enhancement-and-embedding">Content Enhancement and Embedding</a>.</p>
<hr />
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>RAGFlow implements <strong>8 core chunking strategies</strong>, each optimized for different document types and structural patterns. The system routes documents to appropriate chunking strategies based on the <code>parser_id</code> field, applies sophisticated text merging algorithms (including column detection, vertical merge, and reading order analysis), and produces indexed chunks with positional metadata.</p>
<p>The chunking process occurs in the <code>TaskExecutor</code> after document parsing and before embedding generation, as shown in the system architecture:</p>
<p><pre class="mermaid"><code>flowchart TD
    ParsedDoc["Parsed Document(sections, tables, images)"]
    ChunkFactory["FACTORY Dictrag/svr/task_executor.py:76-93"]
    NaiveChunk["naive.chunk()rag/app/naive.py:649"]
    PaperChunk["paper.chunk()rag/app/paper.py"]
    BookChunk["book.chunk()rag/app/book.py"]
    ManualChunk["manual.chunk()rag/app/manual.py"]
    QAChunk["qa.chunk()rag/app/qa.py"]
    TableChunk["table.chunk()rag/app/table.py"]
    LawsChunk["laws.chunk()rag/app/laws.py"]
    PresentChunk["presentation.chunk()rag/app/presentation.py"]
    ResumeChunk["resume.chunk()rag/app/resume.py"]
    OneChunk["one.chunk()rag/app/one.py"]
    PictureChunk["picture.chunk()rag/app/picture.py"]
    OutputChunks["Chunk Documentswith metadata"]

    ChunkFactory --&gt; NaiveChunk
    ChunkFactory --&gt; PaperChunk
    ChunkFactory --&gt; BookChunk
    ChunkFactory --&gt; ManualChunk
    ChunkFactory --&gt; QAChunk
    ChunkFactory --&gt; TableChunk
    ChunkFactory --&gt; LawsChunk
    ChunkFactory --&gt; PresentChunk
    ChunkFactory --&gt; ResumeChunk
    ChunkFactory --&gt; OneChunk
    ChunkFactory --&gt; PictureChunk
    ParsedDoc --&gt; ChunkFactory
    NaiveChunk --&gt; OutputChunks
    PaperChunk --&gt; OutputChunks
    BookChunk --&gt; OutputChunks
    ManualChunk --&gt; OutputChunks
    QAChunk --&gt; OutputChunks
    TableChunk --&gt; OutputChunks
    LawsChunk --&gt; OutputChunks
    PresentChunk --&gt; OutputChunks
    ResumeChunk --&gt; OutputChunks
    OneChunk --&gt; OutputChunks
    PictureChunk --&gt; OutputChunks</code></pre>
<strong>Sources:</strong> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/svr/task_executor.py#L76-L93">rag/svr/task_executor.py76-93</a> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/naive.py#L649-L649">rag/app/naive.py649</a></p>
<hr />
<h2 id="core-chunking-strategies">Core Chunking Strategies<a class="headerlink" href="#core-chunking-strategies" title="Permanent link">&para;</a></h2>
<p>The system maintains a factory dictionary mapping parser identifiers to chunking implementations:</p>
<table>
<thead>
<tr>
<th>Parser ID</th>
<th>Module</th>
<th>Primary Use Case</th>
<th>Merging Strategy</th>
<th>Key Algorithm</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>naive</code></td>
<td><code>rag.app.naive</code></td>
<td>General documents (PDF, DOCX, TXT, Markdown)</td>
<td>Token-based with delimiter splitting</td>
<td><code>naive_merge()</code> or <code>naive_merge_docx()</code></td>
</tr>
<tr>
<td><code>paper</code></td>
<td><code>rag.app.paper</code></td>
<td>Academic papers with sections</td>
<td>Hierarchical by section headings, abstract preserved</td>
<td><code>hierarchical_merge()</code> with column detection</td>
</tr>
<tr>
<td><code>book</code></td>
<td><code>rag.app.book</code></td>
<td>Long-form books with chapters</td>
<td>Hierarchical by chapter structure, TOC removal</td>
<td><code>hierarchical_merge()</code></td>
</tr>
<tr>
<td><code>manual</code></td>
<td><code>rag.app.manual</code></td>
<td>Technical manuals, user guides</td>
<td>Hierarchical by outline levels with section IDs</td>
<td>Section-based concatenation</td>
</tr>
<tr>
<td><code>qa</code></td>
<td><code>rag.app.qa</code></td>
<td>Question-answer pairs</td>
<td>Pattern-based Q&amp;A extraction and pairing</td>
<td><code>qbullets_category()</code> + pairing</td>
</tr>
<tr>
<td><code>laws</code></td>
<td><code>rag.app.laws</code></td>
<td>Legal documents with articles</td>
<td>Tree merge respecting article/clause hierarchy</td>
<td><code>tree_merge()</code></td>
</tr>
<tr>
<td><code>presentation</code></td>
<td><code>rag.app.presentation</code></td>
<td>PowerPoint, slide decks</td>
<td>Slide-by-slide with reading order sorting</td>
<td>Per-slide with position sorting</td>
</tr>
<tr>
<td><code>one</code></td>
<td><code>rag.app.one</code></td>
<td>Single-chunk documents</td>
<td>Entire document as one chunk, order preserved</td>
<td>Concatenate all sections</td>
</tr>
</tbody>
</table>
<p><strong>Additional Methods:</strong> The system also supports specialized methods for <code>table</code> (structured data), <code>resume</code> (CV parsing), <code>picture</code> (image-only), <code>audio</code> (transcription), and <code>email</code> (message threading), though these are considered auxiliary to the 8 core strategies.</p>
<p><strong>Sources:</strong> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/svr/task_executor.py#L76-L93">rag/svr/task_executor.py76-93</a> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/naive.py">rag/app/naive.py</a> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/paper.py">rag/app/paper.py</a> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/book.py">rag/app/book.py</a> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/manual.py">rag/app/manual.py</a> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/qa.py">rag/app/qa.py</a> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/laws.py">rag/app/laws.py</a> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/presentation.py">rag/app/presentation.py</a> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/one.py">rag/app/one.py</a></p>
<hr />
<h2 id="configuration-parameters">Configuration Parameters<a class="headerlink" href="#configuration-parameters" title="Permanent link">&para;</a></h2>
<p>All chunking methods accept a <code>parser_config</code> dictionary with the following parameters:</p>
<h3 id="core-parameters">Core Parameters<a class="headerlink" href="#core-parameters" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>parser_config = {
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    &quot;chunk_token_num&quot;: 128,              # Maximum tokens per chunk
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    &quot;delimiter&quot;: &quot;\n!?。；！？&quot;,           # Primary delimiter characters
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    &quot;children_delimiter&quot;: &quot;&quot;,             # Nested delimiter pattern
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    &quot;layout_recognize&quot;: &quot;DeepDOC&quot;,       # Layout recognition method
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    &quot;filename_embd_weight&quot;: 0.1,         # Weight for filename in embeddings
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>}
</code></pre></div>
<strong>Sources:</strong> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/naive.py#L660-L662">rag/app/naive.py660-662</a></p>
<h3 id="advanced-parameters">Advanced Parameters<a class="headerlink" href="#advanced-parameters" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>parser_config = {
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>    &quot;auto_keywords&quot;: 0,                  # Number of keywords to extract per chunk
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>    &quot;auto_questions&quot;: 0,                 # Number of questions to generate per chunk
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>    &quot;enable_metadata&quot;: False,            # Extract structured metadata
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>    &quot;metadata&quot;: {...},                   # Metadata schema definition
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>    &quot;table_context_size&quot;: 0,             # Context tokens around tables
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>    &quot;image_context_size&quot;: 0,             # Context tokens around images
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>    &quot;analyze_hyperlink&quot;: False,          # Extract and process hyperlinks
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>}
</code></pre></div>
<strong>Sources:</strong> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/svr/task_executor.py#L327-L435">rag/svr/task_executor.py327-435</a> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/nlp/__init__.py#L372-L539">rag/nlp/__init__.py372-539</a></p>
<hr />
<h2 id="chunking-workflow">Chunking Workflow<a class="headerlink" href="#chunking-workflow" title="Permanent link">&para;</a></h2>
<p>The complete chunking workflow from document upload to indexed chunks:</p>
<blockquote>
<p><strong>[Mermaid sequence]</strong>
<em>(图表结构无法解析)</em></p>
</blockquote>
<p><strong>Sources:</strong> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/svr/task_executor.py#L234-L502">rag/svr/task_executor.py234-502</a> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/naive.py#L649-L800">rag/app/naive.py649-800</a> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/nlp/__init__.py#L290-L369">rag/nlp/__init__.py290-369</a></p>
<hr />
<h2 id="detailed-method-descriptions">Detailed Method Descriptions<a class="headerlink" href="#detailed-method-descriptions" title="Permanent link">&para;</a></h2>
<h3 id="naive-method">Naive Method<a class="headerlink" href="#naive-method" title="Permanent link">&para;</a></h3>
<p><strong>Purpose:</strong> General-purpose chunking for unstructured documents.</p>
<p><strong>Algorithm:</strong></p>
<ol>
<li>Parse document to extract sections and tables</li>
<li>Apply token-based splitting with configurable delimiters</li>
<li>Merge adjacent sections until <code>chunk_token_num</code> threshold</li>
<li>Preserve document structure with position metadata</li>
</ol>
<p><pre class="mermaid"><code>flowchart TD
    Input["Document Sections"]
    Delim["Split by Delimiterdelimiter parameter"]
    Token["Token Count Checkchunk_token_num"]
    Merge["naive_merge()rag/nlp/init.py"]
    Child["Child Delimiter Splitchildren_delimiter"]
    Output["Tokenized Chunks"]

    Input --&gt; Delim
    Delim --&gt; Token
    Token --&gt; Merge
    Token --&gt; Output
    Merge --&gt; Child
    Child --&gt; Output</code></pre>
<strong>Key Functions:</strong></p>
<ul>
<li><code>naive_merge(sections, token_num, delimiter)</code> - <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/nlp/__init__.py#L710-L749">rag/nlp/__init__.py710-749</a></li>
<li><code>tokenize_chunks(chunks, doc, eng)</code> - <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/nlp/__init__.py#L291-L316">rag/nlp/__init__.py291-316</a></li>
</ul>
<p><strong>Configuration Example:</strong></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>parser_config = {
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>    &quot;chunk_token_num&quot;: 512,
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>    &quot;delimiter&quot;: &quot;\n!?。；！？&quot;,
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>    &quot;children_delimiter&quot;: &quot;|`heading`|`subheading`&quot;,
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>}
</code></pre></div>
<strong>Sources:</strong> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/naive.py#L649-L800">rag/app/naive.py649-800</a> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/nlp/__init__.py#L710-L749">rag/nlp/__init__.py710-749</a></p>
<hr />
<h3 id="hierarchical-methods-paper-book-manual-laws">Hierarchical Methods (Paper, Book, Manual, Laws)<a class="headerlink" href="#hierarchical-methods-paper-book-manual-laws" title="Permanent link">&para;</a></h3>
<p><strong>Purpose:</strong> Maintain document hierarchy for structured documents with sections, chapters, or articles.</p>
<p><strong>Common Algorithm:</strong></p>
<ol>
<li>Detect bullet/heading patterns using <code>bullets_category()</code></li>
<li>Calculate heading levels with <code>title_frequency()</code></li>
<li>Build hierarchical tree structure</li>
<li>Merge within hierarchy levels respecting token limits</li>
</ol>
<p><pre class="mermaid"><code>flowchart TD
    Sections["Parsed Sections"]
    BulletDetect["bullets_category()rag/nlp/init.py:216-233"]
    TitleFreq["title_frequency()rag/nlp/init.py:752-833"]
    TreeBuild["Build Tree Structure"]
    HierMerge["hierarchical_merge()rag/nlp/init.py:835-921"]
    Output["Hierarchical Chunks"]

    Sections --&gt; BulletDetect
    BulletDetect --&gt; TitleFreq
    TitleFreq --&gt; TreeBuild
    TreeBuild --&gt; HierMerge
    HierMerge --&gt; Output</code></pre>
<strong>Method-Specific Variations:</strong></p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Bullet Pattern</th>
<th>Typical Structure</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>paper</code></td>
<td>Section headings (1., 1.1, I, II)</td>
<td>Abstract → Sections → Subsections</td>
</tr>
<tr>
<td><code>book</code></td>
<td>Chapter markers</td>
<td>Part → Chapter → Section</td>
</tr>
<tr>
<td><code>manual</code></td>
<td>Numbered lists, outline format</td>
<td>Chapter → Topic → Procedure</td>
</tr>
<tr>
<td><code>laws</code></td>
<td>Article/clause numbering</td>
<td>Chapter → Section → Article → Clause</td>
</tr>
</tbody>
</table>
<p><strong>Bullet Pattern Detection:</strong></p>
<p>The system maintains multiple bullet pattern categories in <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/nlp/__init__.py#L169-L201">rag/nlp/__init__.py169-201</a>:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>BULLET_PATTERN = [
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>    [  # Category 0: Chinese formal structure
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>        r&quot;第[零一二三四五六七八九十百0-9]+(分?编|部分)&quot;,  # 第一编, 第二部分
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>        r&quot;第[零一二三四五六七八九十百0-9]+章&quot;,         # 第一章, 第二章
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>        r&quot;第[零一二三四五六七八九十百0-9]+节&quot;,         # 第一节, 第二节
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>        r&quot;第[零一二三四五六七八九十百0-9]+条&quot;,         # 第一条, 第二条
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>        r&quot;[\(（][零一二三四五六七八九十百]+[\)）]&quot;,    # (一), (二)
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>    ],
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>    [  # Category 1: Numbered structure
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>        r&quot;第[0-9]+章&quot;,                              # 第1章
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>        r&quot;第[0-9]+节&quot;,                              # 第1节
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>        r&quot;[0-9]{,2}[\. 、]&quot;,                       # 1., 2、
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>        r&quot;[0-9]{,2}\.[0-9]{,2}[^a-zA-Z/%~-]&quot;,     # 1.1, 1.2
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>        r&quot;[0-9]{,2}\.[0-9]{,2}\.[0-9]{,2}&quot;,       # 1.1.1
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>        r&quot;[0-9]{,2}\.[0-9]{,2}\.[0-9]{,2}\.[0-9]{,2}&quot;,  # 1.1.1.1
<a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a>    ],
<a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a>    [  # Category 2: Mixed Chinese/numeric
<a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a>        r&quot;第[零一二三四五六七八九十百0-9]+章&quot;,
<a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a>        r&quot;第[零一二三四五六七八九十百0-9]+节&quot;,
<a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a>        r&quot;[零一二三四五六七八九十百]+[ 、]&quot;,
<a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a>        r&quot;[\(（][零一二三四五六七八九十百]+[\)）]&quot;,
<a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a>        r&quot;[\(（][0-9]{,2}[\)）]&quot;,
<a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a>    ],
<a id="__codelineno-3-24" name="__codelineno-3-24" href="#__codelineno-3-24"></a>    [  # Category 3: English formal structure
<a id="__codelineno-3-25" name="__codelineno-3-25" href="#__codelineno-3-25"></a>        r&quot;PART (ONE|TWO|THREE|FOUR|FIVE|SIX|SEVEN|EIGHT|NINE|TEN)&quot;,
<a id="__codelineno-3-26" name="__codelineno-3-26" href="#__codelineno-3-26"></a>        r&quot;Chapter (I+V?|VI*|XI|IX|X)&quot;,           # Roman numerals
<a id="__codelineno-3-27" name="__codelineno-3-27" href="#__codelineno-3-27"></a>        r&quot;Section [0-9]+&quot;,
<a id="__codelineno-3-28" name="__codelineno-3-28" href="#__codelineno-3-28"></a>        r&quot;Article [0-9]+&quot;
<a id="__codelineno-3-29" name="__codelineno-3-29" href="#__codelineno-3-29"></a>    ],
<a id="__codelineno-3-30" name="__codelineno-3-30" href="#__codelineno-3-30"></a>    [  # Category 4: Markdown headings
<a id="__codelineno-3-31" name="__codelineno-3-31" href="#__codelineno-3-31"></a>        r&quot;^#[^#]&quot;,      # # Heading 1
<a id="__codelineno-3-32" name="__codelineno-3-32" href="#__codelineno-3-32"></a>        r&quot;^##[^#]&quot;,     # ## Heading 2
<a id="__codelineno-3-33" name="__codelineno-3-33" href="#__codelineno-3-33"></a>        r&quot;^###.*&quot;,      # ### Heading 3
<a id="__codelineno-3-34" name="__codelineno-3-34" href="#__codelineno-3-34"></a>        r&quot;^####.*&quot;,     # #### Heading 4
<a id="__codelineno-3-35" name="__codelineno-3-35" href="#__codelineno-3-35"></a>        r&quot;^#####.*&quot;,    # ##### Heading 5
<a id="__codelineno-3-36" name="__codelineno-3-36" href="#__codelineno-3-36"></a>        r&quot;^######.*&quot;,   # ###### Heading 6
<a id="__codelineno-3-37" name="__codelineno-3-37" href="#__codelineno-3-37"></a>    ]
<a id="__codelineno-3-38" name="__codelineno-3-38" href="#__codelineno-3-38"></a>]
</code></pre></div>
<strong>Key Functions:</strong></p>
<ul>
<li><code>bullets_category(sections)</code> - <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/nlp/__init__.py#L216-L233">rag/nlp/__init__.py216-233</a> - Detects which bullet pattern category best matches sections</li>
<li><code>title_frequency(bullet_cat, sections)</code> - Calculates heading level distribution</li>
<li><code>hierarchical_merge(sections, max_token)</code> - Merges sections within hierarchy boundaries</li>
</ul>
<p><strong>Sources:</strong> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/paper.py#L74-L167">rag/app/paper.py74-167</a> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/book.py#L69-L159">rag/app/book.py69-159</a> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/manual.py#L185-L278">rag/app/manual.py185-278</a> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/laws.py#L130-L187">rag/app/laws.py130-187</a></p>
<hr />
<h3 id="qa-method">QA Method<a class="headerlink" href="#qa-method" title="Permanent link">&para;</a></h3>
<p><strong>Purpose:</strong> Extract question-answer pairs from FAQ documents or interview transcripts.</p>
<p><strong>Algorithm:</strong></p>
<ol>
<li>Detect Q&amp;A pattern using <code>qbullets_category()</code></li>
<li>Identify question bullets (e.g., "Q1:", "问题1：")</li>
<li>Associate following text as answer until next question</li>
<li>Create paired Q→A chunks</li>
</ol>
<p><pre class="mermaid"><code>flowchart TD
    Document["Document Text"]
    QBullet["qbullets_category()rag/nlp/init.py:151-166"]
    Pattern["Match Question PatternQUESTION_PATTERN"]
    Extract["Extract Q-A Pairs"]
    Validate["Validate Pair Structure"]
    Output["Q-A Chunk Documents"]
    Note1["Patterns:第N问, Question N,(N), N."]

    Document --&gt; QBullet
    QBullet --&gt; Pattern
    Pattern --&gt; Extract
    Extract --&gt; Validate
    Validate --&gt; Output
    Pattern --&gt; Note1</code></pre>
<strong>Supported Question Patterns:</strong></p>
<p>The system maintains a comprehensive list of question patterns in <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/nlp/__init__.py#L75-L87">rag/nlp/__init__.py75-87</a>:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>QUESTION_PATTERN = [
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>    r&quot;第([零一二三四五六七八九十百0-9]+)问&quot;,    # Chinese: 第1问, 第二问
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>    r&quot;第([零一二三四五六七八九十百0-9]+)条&quot;,    # Chinese: 第1条, 第二条
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>    r&quot;&lt;FileRef file-url=&quot;https://github.com/infiniflow/ragflow/blob/80a16e71/\\(（&quot; undefined  file-path=&quot;\\(（&quot;&gt;Hii&lt;/FileRef&gt;[\)）]&quot;,  # Parenthesized: (一), (二)
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>    r&quot;第([0-9]+)问&quot;,                          # Numbered: 第1问, 第2问
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>    r&quot;第([0-9]+)条&quot;,                          # Articles: 第1条, 第2条
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>    r&quot;([0-9]{1,2})[\. 、]&quot;,                   # Simple: 1., 2、
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>    r&quot;([零一二三四五六七八九十百]+)[ 、]&quot;,        # Chinese numbers: 一、二、
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>    r&quot;&lt;FileRef file-url=&quot;https://github.com/infiniflow/ragflow/blob/80a16e71/\\(（&quot; undefined  file-path=&quot;\\(（&quot;&gt;Hii&lt;/FileRef&gt;[\)）]&quot;,              # Numbered parentheses: (1), (2)
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>    r&quot;QUESTION (ONE|TWO|THREE|FOUR|FIVE|SIX|SEVEN|EIGHT|NINE|TEN)&quot;,  # English words
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a>    r&quot;QUESTION (I+V?|VI*|XI|IX|X)&quot;,          # Roman numerals
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a>    r&quot;QUESTION ([0-9]+)&quot;,                     # English: Question 1, Question 2
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a>]
</code></pre></div>
<strong>Pattern Matching Strategy:</strong></p>
<p>The <code>qbullets_category()</code> function tests all patterns against document sections and selects the most frequently matching pattern:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>def qbullets_category(sections):
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>    hits = [0] * len(QUESTION_PATTERN)
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>    for i, pattern in enumerate(QUESTION_PATTERN):
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>        for section in sections:
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>            if re.match(pattern, section) and not not_bullet(section):
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>                hits[i] += 1
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>                break
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>    # Return index of pattern with most hits
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>    return hits.index(max(hits)), QUESTION_PATTERN[hits.index(max(hits))]
</code></pre></div>
<strong>Sources:</strong> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/qa.py#L186-L320">rag/app/qa.py186-320</a> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/nlp/__init__.py#L75-L87">rag/nlp/__init__.py75-87</a> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/nlp/__init__.py#L151-L166">rag/nlp/__init__.py151-166</a></p>
<hr />
<h3 id="table-method">Table Method<a class="headerlink" href="#table-method" title="Permanent link">&para;</a></h3>
<p><strong>Purpose:</strong> Process spreadsheets and tabular data with row/column awareness.</p>
<p><strong>Algorithm:</strong></p>
<ol>
<li>Parse Excel/CSV to DataFrame</li>
<li>Detect header rows (simple or multi-level)</li>
<li>Build hierarchical column headers if merged cells exist</li>
<li>Chunk by row batches with configurable <code>batch_size</code></li>
<li>Convert to HTML or row-wise text representation</li>
</ol>
<p><pre class="mermaid"><code>flowchart TD
    Excel["Excel/CSV File"]
    ParseWB["Excel._load_excel_to_workbook()deepdoc/parser/excel_parser.py:31"]
    DetectHeader["_detect_header_rows()rag/app/table.py:197"]
    SimpleHeader["_parse_simple_headers()"]
    MultiHeader["_parse_multi_level_headers()_build_hierarchical_headers()"]
    DataFrame["Build DataFrame"]
    BatchSplit["Split by batch_sizedefault: 10 rows"]
    HTMLConv["Convert to HTMLor row text"]
    TokenizeTable["tokenize_table()rag/nlp/init.py:338-369"]
    Output["Table Chunks"]

    DetectHeader --&gt; SimpleHeader
    DetectHeader --&gt; MultiHeader
    SimpleHeader --&gt; DataFrame
    MultiHeader --&gt; DataFrame
    DataFrame --&gt; BatchSplit
    BatchSplit --&gt; HTMLConv
    HTMLConv --&gt; TokenizeTable
    TokenizeTable --&gt; Output</code></pre>
<strong>Header Detection Logic:</strong></p>
<ul>
<li>Checks for merged cells in first 2 rows</li>
<li>Analyzes cell content (header-like vs data-like)</li>
<li>Builds hierarchical column names (e.g., "Parent &gt; Child")</li>
</ul>
<p><strong>Sources:</strong> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/table.py#L38-L336">rag/app/table.py38-336</a> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/deepdoc/parser/excel_parser.py#L29-L169">deepdoc/parser/excel_parser.py29-169</a> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/nlp/__init__.py#L338-L369">rag/nlp/__init__.py338-369</a></p>
<hr />
<h3 id="presentation-method">Presentation Method<a class="headerlink" href="#presentation-method" title="Permanent link">&para;</a></h3>
<p><strong>Purpose:</strong> Chunk slide decks with slide-level granularity and thumbnail images, ensuring proper reading order.</p>
<p><strong>Algorithm:</strong></p>
<ol>
<li>Extract slide text using <code>PptParser</code> or PDF-based parsing</li>
<li>Capture slide thumbnail images</li>
<li>For PDF presentations, reassemble page content in reading order</li>
<li>Create one chunk per slide with associated image</li>
</ol>
<p><strong>PDF Presentation Processing (Pdf class):</strong></p>
<p>The <code>Pdf</code> class in <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/presentation.py#L56-L136">rag/app/presentation.py56-136</a> implements sophisticated page content reassembly:</p>
<ol>
<li>
<p><strong>Extract Components:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a># Text boxes from OCR/layout
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>for b in self.boxes:
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>    page_items[page_num].append({
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>        &quot;top&quot;: b[&quot;top&quot;],
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>        &quot;x0&quot;: b[&quot;x0&quot;],
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>        &quot;text&quot;: b[&quot;text&quot;],
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>        &quot;type&quot;: &quot;text&quot;
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>    })
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a># Tables and figures with positions
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a>for (img, content), positions in tbls:
<a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a>    page_items[page_num].append({
<a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a>        &quot;top&quot;: top,
<a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a>        &quot;x0&quot;: left,
<a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a>        &quot;text&quot;: content,
<a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a>        &quot;type&quot;: &quot;table_or_figure&quot;
<a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a>    })
</code></pre></div>
</li>
<li>
<p><strong>Sort by Reading Order:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a># Sort items by vertical position (top), then horizontal (x0)
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>items.sort(key=lambda x: (x[&quot;top&quot;], x[&quot;x0&quot;]))
</code></pre></div>
</li>
<li>
<p><strong>Assemble Slide Text:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>full_page_text = &quot;\n\n&quot;.join([item[&quot;text&quot;] for item in items])
</code></pre></div>
</li>
</ol>
<p><strong>Slide Processing Example:</strong></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>for slide_num in range(from_page, to_page):
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>    # Extract and order all elements on slide
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>    items = page_items[slide_num]
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>    items.sort(key=lambda x: (x[&quot;top&quot;], x[&quot;x0&quot;]))
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>    # Combine in reading order
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a>    text = &quot;\n\n&quot;.join([item[&quot;text&quot;] for item in items])
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a>    image = page_images[slide_num]
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a>
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a>    chunk = {
<a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a>        &quot;content_with_weight&quot;: text,
<a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a>        &quot;image&quot;: image,
<a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a>        &quot;page_num_int&quot;: [slide_num],
<a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a>    }
</code></pre></div>
<strong>Sources:</strong> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/presentation.py#L56-L136">rag/app/presentation.py56-136</a> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/presentation.py#L149-L217">rag/app/presentation.py149-217</a></p>
<hr />
<h3 id="one-method">One Method<a class="headerlink" href="#one-method" title="Permanent link">&para;</a></h3>
<p><strong>Purpose:</strong> Treat entire document as a single chunk, preserving original order.</p>
<p><strong>Use Cases:</strong></p>
<ul>
<li>Short documents that fit within token limits</li>
<li>Documents requiring complete context</li>
<li>Files where splitting would break semantic meaning</li>
</ul>
<p><strong>Implementation:</strong></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>def chunk(...):
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>    # Parse entire document
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>    sections, tables = parse_document()
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>    # Concatenate all sections in order
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>    all_text = &quot;\n&quot;.join([s[0] for s in sections])
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a>
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a>    # Return as single chunk
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a>    return [create_chunk(all_text)]
</code></pre></div>
<strong>Sources:</strong> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/one.py#L66-L140">rag/app/one.py66-140</a></p>
<hr />
<h3 id="picture-method">Picture Method<a class="headerlink" href="#picture-method" title="Permanent link">&para;</a></h3>
<p><strong>Purpose:</strong> Process images with vision model descriptions.</p>
<p><strong>Algorithm:</strong></p>
<ol>
<li>Extract embedded images from document</li>
<li>Send images to vision LLM (configured via <code>tenant_id</code> and <code>LLMType.IMAGE2TEXT</code>)</li>
<li>Generate descriptive text using vision prompt</li>
<li>Create chunks from descriptions with image metadata</li>
</ol>
<p><strong>Vision Pipeline:</strong></p>
<p><pre class="mermaid"><code>flowchart TD
    Image["Image File"]
    Vision["VisionFigureParserdeepdoc/parser/figure_parser.py"]
    LLM["LLMBundleLLMType.IMAGE2TEXT"]
    Prompt["vision_llm_figure_describe_prompt"]
    Chunk["Image Chunkwith description"]

    Image --&gt; Vision
    Vision --&gt; LLM
    LLM --&gt; Prompt
    Prompt --&gt; Chunk</code></pre>
<strong>Sources:</strong> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/picture.py">rag/app/picture.py</a> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/deepdoc/parser/figure_parser.py#L1-L150">deepdoc/parser/figure_parser.py1-150</a></p>
<hr />
<h2 id="text-merging-algorithms">Text Merging Algorithms<a class="headerlink" href="#text-merging-algorithms" title="Permanent link">&para;</a></h2>
<p>RAGFlow implements sophisticated text merging algorithms that handle complex document layouts, including multi-column formats, vertical text relationships, and reading order determination.</p>
<h3 id="naive-merge">Naive Merge<a class="headerlink" href="#naive-merge" title="Permanent link">&para;</a></h3>
<p><strong>Function:</strong> <code>naive_merge(sections, token_num, delimiter)</code>
<strong>Location:</strong> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/nlp/__init__.py#L1024-L1084">rag/nlp/__init__.py1024-1084</a></p>
<p><strong>Strategy:</strong> Greedy token-based concatenation with delimiter-based splitting.</p>
<p><strong>Algorithm:</strong></p>
<ol>
<li>Split each section by delimiter characters (e.g., <code>\n!?。；！？</code>)</li>
<li>Accumulate text pieces until <code>token_num</code> threshold</li>
<li>When threshold exceeded, finalize current chunk and start new one</li>
<li>Join pieces with appropriate delimiter</li>
</ol>
<p><pre class="mermaid"><code>flowchart TD
    Input["sections: List[str]"]
    Split["Split by delimiterre.split(delimiter)"]
    TokenCount["num_tokens_from_string()"]
    Accumulate["Accumulate pieces"]
    Threshold["tokens &lt; token_num?"]
    FinalizeChunk["Finalize chunk"]
    Output["chunks: List[str]"]

    Input --&gt; Split
    Split --&gt; TokenCount
    TokenCount --&gt; Accumulate
    Accumulate --&gt; Threshold
    Threshold --&gt; Accumulate
    Threshold --&gt; FinalizeChunk
    FinalizeChunk --&gt; Output</code></pre>
<strong>Key Code Pattern:</strong></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a># From naive_merge implementation
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>for section, _ in sections:
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>    sentences = re.split(delimiter, section)
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>    for s in sentences:
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>        if num_tokens_from_string(current + s) &lt;= token_num:
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>            current += delimiter_char + s
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a>        else:
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a>            chunks.append(current)
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a>            current = s
</code></pre></div>
<strong>Sources:</strong> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/nlp/__init__.py#L1024-L1084">rag/nlp/__init__.py1024-1084</a></p>
<hr />
<h3 id="column-detection-and-multi-column-handling">Column Detection and Multi-Column Handling<a class="headerlink" href="#column-detection-and-multi-column-handling" title="Permanent link">&para;</a></h3>
<p><strong>Context:</strong> PDF documents often use multi-column layouts (e.g., academic papers, magazines). Proper column detection ensures text is read in the correct order rather than mixing columns.</p>
<p><strong>Implementation Location:</strong> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/paper.py#L62-L71">rag/app/paper.py62-71</a></p>
<p><strong>Algorithm:</strong></p>
<ol>
<li>
<p><strong>Detect Column Width:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>column_width = np.median([b[&quot;x1&quot;] - b[&quot;x0&quot;] for b in self.boxes])
</code></pre></div>
<ul>
<li>Calculate median width of text blocks</li>
<li>If <code>column_width &lt; page_width / 2</code>, document is multi-column</li>
<li><strong>Sort Boxes by Column:</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>def sort_X_by_page(boxes, column_threshold):
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>    # Group boxes by page
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>    # Within each page, assign column number based on x0 coordinate
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>    # Sort by: page → column → top → x0
</code></pre></div>
</li>
<li>
<p><strong>Reading Order:</strong></p>
<ul>
<li>Single column: Sort by <code>(page, top, x0)</code></li>
<li>Multi-column: Sort by <code>(page, column_number, top, x0)</code></li>
</ul>
</li>
</ol>
<p><strong>Diagram: Column Detection Logic</strong></p>
<p><pre class="mermaid"><code>flowchart TD
    Boxes["Text Boxesfrom OCR/Layout"]
    CalcWidth["Calculate median widthnp.median([b['x1']-b['x0']])"]
    CheckCol["width &lt; page_width/2?"]
    SingleCol["Single ColumnSort by (page, top, x0)"]
    MultiCol["Multi-Column Detected"]
    AssignCol["Assign column numbersbased on x0 position"]
    SortByCol["Sort by(page, column, top, x0)"]
    Output["Ordered boxes"]

    Boxes --&gt; CalcWidth
    CalcWidth --&gt; CheckCol
    CheckCol --&gt; SingleCol
    CheckCol --&gt; MultiCol
    MultiCol --&gt; AssignCol
    AssignCol --&gt; SortByCol
    SingleCol --&gt; Output
    SortByCol --&gt; Output</code></pre>
<strong>Sources:</strong> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/paper.py#L62-L71">rag/app/paper.py62-71</a> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/deepdoc/parser/pdf_parser.py">deepdoc/parser/pdf_parser.py</a></p>
<hr />
<h3 id="vertical-merge-_naive_vertical_merge">Vertical Merge (_naive_vertical_merge)<a class="headerlink" href="#vertical-merge-_naive_vertical_merge" title="Permanent link">&para;</a></h3>
<p><strong>Purpose:</strong> Merge text boxes that are vertically aligned and part of the same semantic unit (e.g., a paragraph broken across multiple lines).</p>
<p><strong>Implementation Location:</strong> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/deepdoc/parser/pdf_parser.py">deepdoc/parser/pdf_parser.py</a></p>
<p><strong>Algorithm:</strong></p>
<ol>
<li>
<p><strong>Identify Candidates:</strong></p>
<ul>
<li>Boxes on same page with similar x-coordinates (horizontal alignment)</li>
<li>Vertical distance below threshold (e.g., 1.5x line height)</li>
<li>Same or compatible layout types (both "text", not mixed with "title")</li>
<li><strong>Merge Criteria:</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>def should_merge_vertically(box1, box2):
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>    same_page = box1[&quot;page_number&quot;] == box2[&quot;page_number&quot;]
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>    aligned_x = abs(box1[&quot;x0&quot;] - box2[&quot;x0&quot;]) &lt; threshold
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>    close_y = box2[&quot;top&quot;] - box1[&quot;bottom&quot;] &lt; line_height * 1.5
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>    compatible_layout = box1[&quot;layoutno&quot;] == box2[&quot;layoutno&quot;]
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>    return same_page and aligned_x and close_y and compatible_layout
</code></pre></div>
</li>
<li>
<p><strong>Merge Operation:</strong></p>
<ul>
<li>Concatenate text with appropriate spacing</li>
<li>Extend bounding box to encompass both boxes</li>
<li>Remove merged box from list</li>
</ul>
</li>
</ol>
<p><strong>Diagram: Vertical Merge Process</strong></p>
<p><pre class="mermaid"><code>flowchart TD
    BoxList["Sorted Text Boxes"]
    Iterate["Iterate box pairs"]
    CheckPage["Same page?"]
    CheckAlign["Horizontallyaligned?"]
    CheckDist["Vertical distance&lt; threshold?"]
    CheckLayout["Compatiblelayout types?"]
    Merge["Merge boxes:- Concatenate text- Extend bbox- Remove merged box"]
    NextPair["Next pair"]
    Output["Merged box list"]

    BoxList --&gt; Iterate
    Iterate --&gt; CheckPage
    CheckPage --&gt; NextPair
    CheckPage --&gt; CheckAlign
    CheckAlign --&gt; NextPair
    CheckAlign --&gt; CheckDist
    CheckDist --&gt; NextPair
    CheckDist --&gt; CheckLayout
    CheckLayout --&gt; NextPair
    CheckLayout --&gt; Merge
    Merge --&gt; Iterate
    NextPair --&gt; Iterate
    Iterate --&gt; Output</code></pre>
<strong>Sources:</strong> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/deepdoc/parser/pdf_parser.py">deepdoc/parser/pdf_parser.py</a> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/book.py#L53-L53">rag/app/book.py53</a> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/naive.py#L574-L574">rag/app/naive.py574</a></p>
<hr />
<h3 id="reading-order-determination-_concat_downward">Reading Order Determination (_concat_downward)<a class="headerlink" href="#reading-order-determination-_concat_downward" title="Permanent link">&para;</a></h3>
<p><strong>Purpose:</strong> Establish proper reading order for text boxes, especially important after layout analysis which may detect boxes in arbitrary order.</p>
<p><strong>Implementation Location:</strong> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/deepdoc/parser/pdf_parser.py">deepdoc/parser/pdf_parser.py</a></p>
<p><strong>Algorithm:</strong></p>
<ol>
<li>
<p><strong>Initial Sort:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a># Sort by page, then top coordinate, then left coordinate
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>boxes.sort(key=lambda b: (b[&quot;page_number&quot;], b[&quot;top&quot;], b[&quot;x0&quot;]))
</code></pre></div>
</li>
<li>
<p><strong>Downward Concatenation:</strong></p>
<ul>
<li>Identify boxes that should be read sequentially</li>
<li>Look for boxes that are:<ul>
<li>Below current box (higher <code>top</code> value)</li>
<li>Within horizontal overlap range</li>
<li>Close in vertical distance</li>
</ul>
</li>
<li>
<p><strong>Special Handling:</strong></p>
</li>
<li>
<p><strong>Columns:</strong> Handle multi-column layouts by column-aware sorting</p>
</li>
<li><strong>Floats:</strong> Skip around floating elements (tables, figures)</li>
<li><strong>Indentation:</strong> Preserve indentation for lists and code blocks</li>
</ul>
</li>
</ol>
<p><strong>Example Reading Order:</strong></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>Page Layout:          Reading Order:
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>┌─────────┬─────────┐   1 → 2
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>│    1    │    2    │   ↓   ↓
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>├─────────┴─────────┤   3 (full width)
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>│         3         │   ↓   ↓
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>├─────────┬─────────┤   4 → 5
<a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a>│    4    │    5    │
<a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a>└─────────┴─────────┘
</code></pre></div>
<strong>Sources:</strong> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/deepdoc/parser/pdf_parser.py">deepdoc/parser/pdf_parser.py</a> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/paper.py#L63-L63">rag/app/paper.py63</a></p>
<hr />
<h3 id="hierarchical-merge">Hierarchical Merge<a class="headerlink" href="#hierarchical-merge" title="Permanent link">&para;</a></h3>
<p><strong>Function:</strong> <code>hierarchical_merge(bull, sections, max_depth)</code>
<strong>Location:</strong> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/nlp/__init__.py#L1340-L1429">rag/nlp/__init__.py1340-1429</a></p>
<p><strong>Strategy:</strong> Build document hierarchy tree and merge within structural boundaries.</p>
<p><strong>Algorithm:</strong></p>
<ol>
<li>
<p><strong>Detect Section Levels:</strong></p>
<ul>
<li>Use <code>bullets_category()</code> to identify heading patterns</li>
<li>Use <code>title_frequency()</code> to find most common heading level</li>
<li>Assign level numbers to each section</li>
<li><strong>Build Tree:</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>class Node:
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>    def __init__(self, level, text):
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>        self.level = level
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>        self.text = text
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>        self.children = []
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a>
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a># Build tree by level relationships
<a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a>for section, level in sections:
<a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a>    if level &lt;= current_node.level:
<a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a>        # Move up tree to appropriate parent
<a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a>    current_node.add_child(Node(level, section))
</code></pre></div>
</li>
<li>
<p><strong>Merge Strategy:</strong></p>
<ul>
<li>Merge siblings at same level if combined tokens &lt; threshold</li>
<li>Merge child content into parent only if it fits</li>
<li>Preserve structure by never merging across major level boundaries</li>
</ul>
</li>
</ol>
<p><strong>Diagram: Hierarchical Merge Tree</strong></p>
<p><pre class="mermaid"><code>flowchart TD
    Root["Document Root"]
    Ch1["Chapter 1(level 0)"]
    Ch2["Chapter 2(level 0)"]
    S11["Section 1.1(level 1)"]
    S12["Section 1.2(level 1)"]
    S21["Section 2.1(level 1)"]
    SS111["Subsection 1.1.1(level 2)"]
    SS112["Subsection 1.1.2(level 2)"]

    Root --&gt; Ch1
    Root --&gt; Ch2
    Ch1 --&gt; S11
    Ch1 --&gt; S12
    Ch2 --&gt; S21
    S11 --&gt; SS111
    S11 --&gt; SS112</code></pre>
<strong>Merge Rules:</strong></p>
<ul>
<li>Can merge SS111 + SS112 → S11 (child into parent)</li>
<li>Can merge S11 + S12 → Ch1 (siblings into parent)</li>
<li>Cannot merge Ch1 + Ch2 (top-level preserved)</li>
</ul>
<p><strong>Sources:</strong> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/nlp/__init__.py#L1340-L1429">rag/nlp/__init__.py1340-1429</a> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/book.py#L158-L164">rag/app/book.py158-164</a></p>
<hr />
<h3 id="tree-merge-laws-specific">Tree Merge (Laws-Specific)<a class="headerlink" href="#tree-merge-laws-specific" title="Permanent link">&para;</a></h3>
<p><strong>Function:</strong> <code>tree_merge(bull, sections, depth)</code>
<strong>Location:</strong> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/nlp/__init__.py#L920-L1018">rag/nlp/__init__.py920-1018</a></p>
<p><strong>Strategy:</strong> Recursive tree building with minimum token enforcement for legal documents.</p>
<p><strong>Key Features:</strong></p>
<ol>
<li>
<p><strong>Node Structure:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>class Node:
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>    level: int      # Hierarchy level (0 = highest)
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>    texts: List[str]  # Accumulated text content
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>    children: List[Node]  # Child nodes
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>    def total_tokens(self):
<a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a>        # Sum tokens in this node and all children
</code></pre></div>
</li>
<li>
<p><strong>Building Rules:</strong></p>
<ul>
<li>If current text is higher/equal level than previous: create sibling</li>
<li>If lower level: create child node</li>
<li>Accumulate text within each node until token threshold</li>
<li>
<p><strong>Output Generation:</strong></p>
</li>
<li>
<p>Traverse tree depth-first</p>
</li>
<li>Concatenate parent text with child texts</li>
<li>Preserve hierarchical structure in output</li>
</ul>
</li>
</ol>
<p><strong>Example: Legal Document Structure</strong></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>Article 1: Definition      (level 0)
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>  Clause 1.1               (level 1)
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>  Clause 1.2               (level 1)
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>Article 2: Obligations     (level 0)
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>  Section 2.1              (level 1)
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a>    Subsection 2.1.1       (level 2)
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a>    Subsection 2.1.2       (level 2)
</code></pre></div>
<strong>Sources:</strong> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/nlp/__init__.py#L920-L1018">rag/nlp/__init__.py920-1018</a> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/laws.py#L210-L217">rag/app/laws.py210-217</a></p>
<hr />
<h3 id="docx-specific-merge-naive_merge_docx">DOCX-Specific Merge (naive_merge_docx)<a class="headerlink" href="#docx-specific-merge-naive_merge_docx" title="Permanent link">&para;</a></h3>
<p><strong>Function:</strong> <code>naive_merge_docx(sections, chunk_token_num, delimiter, table_context_size, image_context_size)</code>
<strong>Location:</strong> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/nlp/__init__.py#L1086-L1145">rag/nlp/__init__.py1086-1145</a> (implementation may vary by version)</p>
<p><strong>Strategy:</strong> Image and table-aware merging for DOCX documents that handles the triple structure of (text, image, table) sections.</p>
<p><strong>Input Structure:</strong></p>
<p>DOCX sections are parsed as triples:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>sections = [
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>    (text, image, table),  # From rag/app/naive.py Docx parser
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>    (text, None, None),    # Text-only section
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>    (&quot;&quot;, image, None),     # Image-only section
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a>    (&quot;&quot;, None, table_html), # Table section
<a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a>]
</code></pre></div>
<strong>Key Features:</strong></p>
<ol>
<li>
<p><strong>Context-Aware Chunking:</strong></p>
<ul>
<li>Text chunks accumulate until token threshold</li>
<li>Images preserve surrounding text as context</li>
<li>Tables preserve surrounding text as context</li>
<li><strong>Token Counting:</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>for text, image, table in sections:
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>    if table:
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>        # Tables handled separately
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a>        chunks.append({&quot;text&quot;: text + str(table), &quot;ck_type&quot;: &quot;table&quot;})
<a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a>    elif image:
<a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a>        # Images get context
<a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a>        context_above = get_context_above(chunks, token_budget)
<a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a>        context_below = get_context_below(sections, token_budget)
<a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a>        chunks.append({
<a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a>            &quot;text&quot;: context_above + text + context_below,
<a id="__codelineno-21-11" name="__codelineno-21-11" href="#__codelineno-21-11"></a>            &quot;image&quot;: image,
<a id="__codelineno-21-12" name="__codelineno-21-12" href="#__codelineno-21-12"></a>            &quot;ck_type&quot;: &quot;image&quot;
<a id="__codelineno-21-13" name="__codelineno-21-13" href="#__codelineno-21-13"></a>        })
<a id="__codelineno-21-14" name="__codelineno-21-14" href="#__codelineno-21-14"></a>    else:
<a id="__codelineno-21-15" name="__codelineno-21-15" href="#__codelineno-21-15"></a>        # Regular text accumulation
<a id="__codelineno-21-16" name="__codelineno-21-16" href="#__codelineno-21-16"></a>        if current_tokens + len(text) &lt;= chunk_token_num:
<a id="__codelineno-21-17" name="__codelineno-21-17" href="#__codelineno-21-17"></a>            current_chunk += text
<a id="__codelineno-21-18" name="__codelineno-21-18" href="#__codelineno-21-18"></a>        else:
<a id="__codelineno-21-19" name="__codelineno-21-19" href="#__codelineno-21-19"></a>            chunks.append({&quot;text&quot;: current_chunk, &quot;ck_type&quot;: &quot;text&quot;})
<a id="__codelineno-21-20" name="__codelineno-21-20" href="#__codelineno-21-20"></a>            current_chunk = text
</code></pre></div>
</li>
<li>
<p><strong>Image Index Tracking:</strong></p>
<ul>
<li>Track which chunks contain images</li>
<li>Pass image indices to vision parser wrapper</li>
<li>Enable batch processing of images</li>
</ul>
</li>
</ol>
<p><strong>Diagram: DOCX Merge Algorithm</strong></p>
<p><pre class="mermaid"><code>flowchart TD
    Sections["DOCX Sections(text, image, table)"]
    Iterate["Iterate sections"]
    CheckTable["Has table?"]
    CheckImage["Has image?"]
    HasText["Has text?"]
    TableChunk["Create table chunktext + table HTML"]
    ImageChunk["Create image chunkwith context"]
    TextAccum["Accumulate text"]
    TokenCheck["tokens &lt; threshold?"]
    FinalizeText["Finalize text chunk"]
    TrackImage["Add index to image_idxs"]
    Output["chunks + image_idxs"]

    Sections --&gt; Iterate
    Iterate --&gt; CheckTable
    CheckTable --&gt; TableChunk
    CheckTable --&gt; CheckImage
    CheckImage --&gt; ImageChunk
    CheckImage --&gt; HasText
    HasText --&gt; TextAccum
    HasText --&gt; Iterate
    TextAccum --&gt; TokenCheck
    TokenCheck --&gt; TextAccum
    TokenCheck --&gt; FinalizeText
    ImageChunk --&gt; TrackImage
    TrackImage --&gt; Output
    TableChunk --&gt; Output
    FinalizeText --&gt; Output</code></pre>
<strong>Context Sizes:</strong></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a># From parser_config
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>table_context_size = 0    # Tokens of context around tables
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>image_context_size = 0    # Tokens of context around images
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a>
<a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a># Example with context enabled
<a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a>parser_config = {
<a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a>    &quot;table_context_size&quot;: 200,
<a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a>    &quot;image_context_size&quot;: 100,
<a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a>}
</code></pre></div>
<strong>Vision Processing Integration:</strong></p>
<p>After chunking, images are processed by vision models:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a># From rag/app/naive.py:814
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a>vision_figure_parser_docx_wrapper_naive(
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a>    chunks=chunks,
<a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a>    idx_lst=images,  # List of indices where images are
<a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a>    callback=callback,
<a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a>    **kwargs
<a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a>)
</code></pre></div>
This allows batch processing of all images in the document with vision models to generate descriptions.</p>
<p><strong>Sources:</strong> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/naive.py#L808-L823">rag/app/naive.py808-823</a> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/deepdoc/parser/figure_parser.py">deepdoc/parser/figure_parser.py</a></p>
<hr />
<h2 id="advanced-features">Advanced Features<a class="headerlink" href="#advanced-features" title="Permanent link">&para;</a></h2>
<h3 id="context-attachment">Context Attachment<a class="headerlink" href="#context-attachment" title="Permanent link">&para;</a></h3>
<p><strong>Function:</strong> <code>attach_media_context(chunks, table_context_size, image_context_size)</code>
<strong>Location:</strong> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/nlp/__init__.py#L409-L704">rag/nlp/__init__.py409-704</a></p>
<p>Attaches surrounding text context to table and image chunks for better semantic understanding. This is a sophisticated algorithm that uses spatial relationships and positional metadata to find the most relevant context.</p>
<p><strong>Algorithm Overview:</strong></p>
<ol>
<li>
<p><strong>Position-Based Ordering:</strong></p>
<ul>
<li>If chunks have positional metadata (<code>page_num_int</code>, <code>top_int</code>, <code>position_int</code>), sort by <code>(page, top, left)</code></li>
<li>Otherwise, maintain original order</li>
<li>This ensures spatial proximity is considered</li>
<li><strong>Text Bounds Extraction:</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a># For each text chunk, extract bounding boxes per page
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a>text_bounds = []
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a>for text_chunk in chunks:
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a>    bounds = get_bounds_by_page(chunk)  # {page: (top, bottom)}
<a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a>    text_bounds.append((idx, bounds))
</code></pre></div>
</li>
<li>
<p><strong>Nearest Text Finding:</strong> For each media chunk (table/image):</p>
<ul>
<li>Extract its bounding box on the page</li>
<li>Find text chunks with overlapping page and vertical range</li>
<li>Calculate spatial distance using midpoint: <code>dist = abs(media_mid - text_mid)</code></li>
<li>Select text chunk with minimum distance</li>
<li><strong>Sentence-Based Context Collection:</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a># Split text into sentences by delimiters
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a>sentences = split_sentences(text)  # Split on [.。！？!?；;：:\n]
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a>
<a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a># Find sentence boundary closest to middle
<a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a>boundary_idx = find_mid_sentence_index(sentences)
<a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a>
<a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a># Collect context before boundary (up to token_budget)
<a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a>prev_context = collect_sentences_backward(sentences[:boundary_idx+1], token_budget)
<a id="__codelineno-25-9" name="__codelineno-25-9" href="#__codelineno-25-9"></a>
<a id="__codelineno-25-10" name="__codelineno-25-10" href="#__codelineno-25-10"></a># Collect context after boundary (up to token_budget)
<a id="__codelineno-25-11" name="__codelineno-25-11" href="#__codelineno-25-11"></a>next_context = collect_sentences_forward(sentences[boundary_idx+1:], token_budget)
</code></pre></div>
</li>
<li>
<p><strong>Context Assembly:</strong></p>
<ul>
<li>Combine: <code>prev_context + media_content + next_context</code></li>
<li>Update chunk's <code>content_with_weight</code> field</li>
<li>Regenerate tokens: <code>content_ltks</code> and <code>content_sm_ltks</code></li>
</ul>
</li>
</ol>
<p><strong>Diagram: Spatial Context Finding</strong></p>
<p><pre class="mermaid"><code>flowchart TD
    MediaChunk["Media Chunkpage=3, top=200, bottom=400"]
    ExtractBounds["Extract bounding box(page, top, bottom)"]
    FindText["Find text chunkson same page"]
    CheckOverlap["Vertical overlap?"]
    CalcDist["Calculate distanceabs(media_mid - text_mid)"]
    SelectNearest["Select nearesttext chunk"]
    ExtractSentences["Split text into sentences"]
    FindBoundary["Find mid-sentenceboundary"]
    CollectContext["Collect prev/next contextup to token_budget"]
    AssembleContext["Assemble:prev + media + next"]
    UpdateChunk["Update chunk with context"]

    MediaChunk --&gt; ExtractBounds
    ExtractBounds --&gt; FindText
    FindText --&gt; CheckOverlap
    CheckOverlap --&gt; CalcDist
    CheckOverlap --&gt; FindText
    CalcDist --&gt; SelectNearest
    SelectNearest --&gt; ExtractSentences
    ExtractSentences --&gt; FindBoundary
    FindBoundary --&gt; CollectContext
    CollectContext --&gt; AssembleContext
    AssembleContext --&gt; UpdateChunk</code></pre>
<strong>Fallback Strategy:</strong></p>
<p>If no text chunks overlap spatially (no positional metadata or no overlap):</p>
<ul>
<li>Find chunks on same page in document order</li>
<li>If media chunk is first on page, use text after it</li>
<li>If media chunk is last on page, use text before it</li>
<li>This ensures context is always provided when available</li>
</ul>
<p><strong>Configuration:</strong></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a>parser_config = {
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a>    &quot;table_context_size&quot;: 100,   # Tokens of context around tables
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a>    &quot;image_context_size&quot;: 50,    # Tokens of context around images
<a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a>}
</code></pre></div>
<strong>Key Functions:</strong></p>
<ul>
<li><code>get_bounds_by_page(chunk)</code> - Extract page-wise bounding boxes <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/nlp/__init__.py#L459-L502">rag/nlp/__init__.py459-502</a></li>
<li><code>split_sentences(text)</code> - Split on punctuation delimiters <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/nlp/__init__.py#L441-L457">rag/nlp/__init__.py441-457</a></li>
<li><code>find_mid_sentence_index(sentences)</code> - Find middle by token count <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/nlp/__init__.py#L528-L544">rag/nlp/__init__.py528-544</a></li>
<li><code>collect_context_from_sentences()</code> - Extract context with token budget <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/nlp/__init__.py#L546-L575">rag/nlp/__init__.py546-575</a></li>
<li><code>trim_to_tokens(text, token_budget)</code> - Trim to fit token limit <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/nlp/__init__.py#L504-L526">rag/nlp/__init__.py504-526</a></li>
</ul>
<p><strong>Sources:</strong> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/nlp/__init__.py#L409-L704">rag/nlp/__init__.py409-704</a></p>
<hr />
<h3 id="child-delimiter-pattern">Child Delimiter Pattern<a class="headerlink" href="#child-delimiter-pattern" title="Permanent link">&para;</a></h3>
<p>Enables nested chunking with custom delimiters using regex patterns and escaped literals. This feature allows hierarchical splitting where parent chunks are first split by primary delimiters, then each parent is further split by child delimiters.</p>
<p><strong>Format:</strong></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a>children_delimiter = &quot;pattern1|pattern2|`literal text`|`more literal`&quot;
</code></pre></div>
<strong>Syntax Rules:</strong></p>
<ol>
<li><strong>Regex Patterns:</strong> Direct regex patterns separated by <code>|</code></li>
<li><strong>Escaped Literals:</strong> Enclose literal strings in backticks <code>`...`</code></li>
<li><strong>Combination:</strong> Mix regex and literals in same pattern</li>
</ol>
<p><strong>Examples:</strong></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a># Split on markdown headings and custom markers
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a>children_delimiter = r&quot;|\n##\s|`Section:`|`Chapter:`&quot;
<a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a>
<a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a># Split on numbered lists and bullets
<a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a>children_delimiter = r&quot;|\n[0-9]+\.|`•`|`-`|`  *`&quot;
<a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a>
<a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a># Split on Chinese section markers
<a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a>children_delimiter = &quot;|`第.*?章`|`第.*?节`&quot;
</code></pre></div>
<strong>Processing Algorithm:</strong></p>
<p><pre class="mermaid"><code>flowchart TD
    Input["children_delimiter string"]
    Decode["Decode unicode escapes.encode('utf-8').decode('unicode_escape')"]
    ExtractLit["Extract backtick literalsre.findall(r'`([^`]+)`')"]
    RemoveLit["Remove literals from patternre.sub(r'`([^`]+)`', '')"]
    BuildRegex["Build final pattern:base_pattern + '|' + escaped_literals"]
    SplitChunks["Apply to parent chunksre.split(pattern, chunk)"]
    CreateChild["Create child chunkswith mom_with_weight"]

    Input --&gt; Decode
    Decode --&gt; ExtractLit
    ExtractLit --&gt; RemoveLit
    RemoveLit --&gt; BuildRegex
    BuildRegex --&gt; SplitChunks
    SplitChunks --&gt; CreateChild</code></pre>
<strong>Implementation:</strong></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a># From rag/app/naive.py:749-756
<a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a>child_deli = parser_config.get(&quot;children_delimiter&quot;, &quot;&quot;)
<a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a>child_deli = child_deli.encode(&quot;utf-8&quot;).decode(&quot;unicode_escape&quot;) \
<a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a>                       .encode(&quot;latin1&quot;).decode(&quot;utf-8&quot;)
<a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a>
<a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a># Extract literals
<a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a>cust_child_deli = re.findall(r&quot;`([^`]+)`&quot;, child_deli)
<a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a>
<a id="__codelineno-29-9" name="__codelineno-29-9" href="#__codelineno-29-9"></a># Remove literals from base pattern
<a id="__codelineno-29-10" name="__codelineno-29-10" href="#__codelineno-29-10"></a>child_deli = re.sub(r&quot;`([^`]+)`&quot;, &quot;&quot;, child_deli)
<a id="__codelineno-29-11" name="__codelineno-29-11" href="#__codelineno-29-11"></a>
<a id="__codelineno-29-12" name="__codelineno-29-12" href="#__codelineno-29-12"></a># Add escaped literals
<a id="__codelineno-29-13" name="__codelineno-29-13" href="#__codelineno-29-13"></a>if cust_child_deli:
<a id="__codelineno-29-14" name="__codelineno-29-14" href="#__codelineno-29-14"></a>    cust_child_deli = sorted(set(cust_child_deli), key=lambda x: -len(x))
<a id="__codelineno-29-15" name="__codelineno-29-15" href="#__codelineno-29-15"></a>    cust_child_deli = &quot;|&quot;.join(re.escape(t) for t in cust_child_deli if t)
<a id="__codelineno-29-16" name="__codelineno-29-16" href="#__codelineno-29-16"></a>    child_deli += cust_child_deli
</code></pre></div>
<strong>Usage in Tokenization:</strong></p>
<p>When <code>children_delimiter</code> is set, the <code>tokenize_chunks</code> function creates a two-level hierarchy:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a># If child delimiter specified
<a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a>if child_delimiters_pattern:
<a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a>    d[&quot;mom_with_weight&quot;] = ck  # Store parent chunk reference
<a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a>    res.extend(split_with_pattern(d, child_delimiters_pattern, ck, eng))
</code></pre></div>
Each child chunk inherits metadata from parent and adds <code>mom_with_weight</code> field pointing to the original parent text.</p>
<p><strong>Sources:</strong> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/naive.py#L749-L756">rag/app/naive.py749-756</a> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/nlp/__init__.py#L276-L299">rag/nlp/__init__.py276-299</a> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/nlp/__init__.py#L302-L327">rag/nlp/__init__.py302-327</a></p>
<hr />
<h3 id="position-tracking">Position Tracking<a class="headerlink" href="#position-tracking" title="Permanent link">&para;</a></h3>
<p>All chunks include position metadata for precise document location:</p>
<p><strong>Position Format:</strong></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a>position_int = [
<a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a>    [page_num, x0, x1, top, bottom],  # Multiple positions per chunk
<a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a>    [page_num, x0, x1, top, bottom],
<a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a>]
</code></pre></div>
<strong>Functions:</strong></p>
<ul>
<li><code>add_positions(chunk_dict, positions)</code> - <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/nlp/__init__.py#L540-L616">rag/nlp/__init__.py540-616</a></li>
<li><code>pdf_parser.get_position(box, zoomin)</code> - Used by PDF parsers</li>
<li><code>pdf_parser.crop(positions)</code> - Extract image regions by position</li>
</ul>
<p><strong>Sources:</strong> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/nlp/__init__.py#L540-L616">rag/nlp/__init__.py540-616</a> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/deepdoc/parser/pdf_parser.py">deepdoc/parser/pdf_parser.py</a></p>
<hr />
<h2 id="tokenization-process">Tokenization Process<a class="headerlink" href="#tokenization-process" title="Permanent link">&para;</a></h2>
<p>All chunks undergo tokenization for indexing and retrieval:</p>
<p><pre class="mermaid"><code>flowchart TD
    Chunk["Chunk Text"]
    RagTok["RagTokenizerrag/nlp/rag_tokenizer.py"]
    Tokenize["tokenize(text)"]
    FineGrain["fine_grained_tokenize(tokens)"]
    Fields["Chunk Fields:content_ltkscontent_sm_ltks"]

    Chunk --&gt; RagTok
    RagTok --&gt; Tokenize
    Tokenize --&gt; FineGrain
    FineGrain --&gt; Fields</code></pre>
<strong>Tokenization Fields:</strong></p>
<ul>
<li><code>content_with_weight</code> - Original text</li>
<li><code>content_ltks</code> - Standard tokens (space-separated)</li>
<li><code>content_sm_ltks</code> - Fine-grained tokens (for fuzzy matching)</li>
<li><code>title_tks</code> - Document title tokens</li>
<li><code>title_sm_tks</code> - Fine-grained title tokens</li>
</ul>
<p><strong>Token Counting:</strong></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a>from common.token_utils import num_tokens_from_string
<a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a>
<a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a>token_count = num_tokens_from_string(text)
</code></pre></div>
<strong>Sources:</strong> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/nlp/rag_tokenizer.py#L21-L58">rag/nlp/rag_tokenizer.py21-58</a> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/nlp/__init__.py#L268-L274">rag/nlp/__init__.py268-274</a> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/common/token_utils.py">common/token_utils.py</a></p>
<hr />
<h2 id="method-selection-guide">Method Selection Guide<a class="headerlink" href="#method-selection-guide" title="Permanent link">&para;</a></h2>
<p>Choose chunking method based on document characteristics:</p>
<table>
<thead>
<tr>
<th>Document Type</th>
<th>Recommended Method</th>
<th>Key Features</th>
<th>Merging Algorithm</th>
</tr>
</thead>
<tbody>
<tr>
<td>General documents</td>
<td><code>naive</code></td>
<td>Token-based splitting, delimiter-aware</td>
<td><code>naive_merge()</code></td>
</tr>
<tr>
<td>Research papers</td>
<td><code>paper</code></td>
<td>Abstract preservation, multi-column support</td>
<td><code>hierarchical_merge()</code> with column detection</td>
</tr>
<tr>
<td>Long books</td>
<td><code>book</code></td>
<td>Chapter hierarchy, TOC removal</td>
<td><code>hierarchical_merge()</code></td>
</tr>
<tr>
<td>Technical manuals</td>
<td><code>manual</code></td>
<td>Outline-based, section tracking</td>
<td><code>hierarchical_merge()</code> with section IDs</td>
</tr>
<tr>
<td>FAQ documents</td>
<td><code>qa</code></td>
<td>Question-answer pairing</td>
<td>Pattern matching + pairing</td>
</tr>
<tr>
<td>Legal documents</td>
<td><code>laws</code></td>
<td>Article/clause tree structure</td>
<td><code>tree_merge()</code></td>
</tr>
<tr>
<td>Presentations</td>
<td><code>presentation</code></td>
<td>Slide-by-slide, reading order sorting</td>
<td>Per-slide with position-based sorting</td>
</tr>
<tr>
<td>Short documents</td>
<td><code>one</code></td>
<td>Entire document as single chunk</td>
<td>No merging (concatenate all)</td>
</tr>
</tbody>
</table>
<p><strong>Selection Factors:</strong></p>
<ol>
<li>
<p><strong>Document Structure:</strong></p>
<ul>
<li>Hierarchical (chapters/sections) → <code>paper</code>, <code>book</code>, <code>manual</code>, <code>laws</code></li>
<li>Flat/sequential → <code>naive</code>, <code>one</code></li>
<li>Paired (Q&amp;A) → <code>qa</code></li>
<li>Paginated → <code>presentation</code></li>
<li>
<p><strong>Length:</strong></p>
</li>
<li>
<p>&lt; 1000 tokens → <code>one</code></p>
</li>
<li>1000-10000 tokens → <code>naive</code></li>
<li>
<blockquote>
<p>10000 tokens → Structure-aware methods (<code>book</code>, <code>paper</code>, <code>manual</code>)</p>
</blockquote>
</li>
</ul>
</li>
<li>
<p><strong>Layout Complexity:</strong></p>
<ul>
<li>Multi-column → <code>paper</code> (has column detection)</li>
<li>Complex tables → <code>manual</code> or <code>naive</code> with table context</li>
<li>Mixed media → <code>naive</code> or <code>presentation</code></li>
</ul>
</li>
</ol>
<p><strong>Auto-Detection:</strong> The system automatically selects method based on file extension and content analysis, configurable via <code>parser_id</code> in document metadata.</p>
<p><strong>Sources:</strong> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/svr/task_executor.py#L76-L93">rag/svr/task_executor.py76-93</a> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/naive.py">rag/app/naive.py</a> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/paper.py">rag/app/paper.py</a> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/book.py">rag/app/book.py</a> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/manual.py">rag/app/manual.py</a> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/qa.py">rag/app/qa.py</a> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/laws.py">rag/app/laws.py</a> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/presentation.py">rag/app/presentation.py</a> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/app/one.py">rag/app/one.py</a></p>
<hr />
<h2 id="integration-with-document-processing-pipeline">Integration with Document Processing Pipeline<a class="headerlink" href="#integration-with-document-processing-pipeline" title="Permanent link">&para;</a></h2>
<p>Chunking occurs within the broader document processing workflow:</p>
<p><pre class="mermaid"><code>flowchart TD
    Upload["Document Upload"]
    Task["TaskService.create"]
    Queue["Redis Task Queue"]
    TaskExec["TaskExecutor.do_handle_task"]
    Parse["Parser Selection"]
    Chunk["build_chunks()Select chunking method"]
    Enhance["Content Enhancementkeywords, questions, metadata"]
    Embed["embedding()Generate vectors"]
    Index["insert_es()Index to document store"]

    Upload --&gt; Task
    Task --&gt; Queue
    Queue --&gt; TaskExec
    TaskExec --&gt; Parse
    Parse --&gt; Chunk
    Chunk --&gt; Enhance
    Enhance --&gt; Embed
    Embed --&gt; Index</code></pre>
<strong>Key Integration Points:</strong></p>
<ol>
<li><strong>Task Creation</strong> - <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/api/db/services/task_service.py#L382-L426">api/db/services/task_service.py382-426</a></li>
<li><strong>Queue Processing</strong> - <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/svr/task_executor.py#L166-L227">rag/svr/task_executor.py166-227</a></li>
<li><strong>Chunking</strong> - <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/svr/task_executor.py#L234-L502">rag/svr/task_executor.py234-502</a></li>
<li><strong>Enhancement</strong> - <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/svr/task_executor.py#L327-L500">rag/svr/task_executor.py327-500</a></li>
<li><strong>Embedding</strong> - <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/svr/task_executor.py#L546-L597">rag/svr/task_executor.py546-597</a></li>
<li><strong>Indexing</strong> - <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/svr/task_executor.py#L818-L880">rag/svr/task_executor.py818-880</a></li>
</ol>
<p><strong>Sources:</strong> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/rag/svr/task_executor.py#L166-L880">rag/svr/task_executor.py166-880</a> <a href="https://github.com/infiniflow/ragflow/blob/80a16e71/api/db/services/task_service.py">api/db/services/task_service.py</a></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.tabs", "navigation.sections", "navigation.top", "search.suggest", "search.highlight", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>