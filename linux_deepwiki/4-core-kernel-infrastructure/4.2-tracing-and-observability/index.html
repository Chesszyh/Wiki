
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://wiki.neurosama.uk/linux_deepwiki/4-core-kernel-infrastructure/4.2-tracing-and-observability/">
      
      
        <link rel="prev" href="../4.1-process-scheduling-and-sched_ext/">
      
      
        <link rel="next" href="../4.3-build-system-and-kbuild/">
      
      
        
          <link rel="alternate" href="./" hreflang="en">
        
          <link rel="alternate" href="../../../zh/linux_deepwiki/4-core-kernel-infrastructure/4.2-tracing-and-observability/" hreflang="zh">
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Tracing and Observability - DeepWiki</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#tracing-and-observability" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="DeepWiki" class="md-header__button md-logo" aria-label="DeepWiki" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DeepWiki
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Tracing and Observability
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="Select language">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="./" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../../../zh/linux_deepwiki/4-core-kernel-infrastructure/4.2-tracing-and-observability/" hreflang="zh" class="md-select__link">
              中文
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/Chesszyh/Wiki" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
  
    
  
  Welcome to DeepWiki

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../celery_deepwiki/1-celery-overview/1.1-installation-and-setup/" class="md-tabs__link">
          
  
  
  Celery deepwiki

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../lc0_deepwiki/1-lc0-overview/" class="md-tabs__link">
          
  
  
  Lc0 deepwiki

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../1-linux-kernel-overview/" class="md-tabs__link">
          
  
  
  Linux deepwiki

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../ragflow_deepwiki/1-overview/" class="md-tabs__link">
          
  
  
  Ragflow deepwiki

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../redis_deepwiki/1-redis-overview/" class="md-tabs__link">
          
  
  
  Redis deepwiki

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../stockfish_deepwiki/2-core-data-structures-and-types/" class="md-tabs__link">
          
  
  
  Stockfish deepwiki

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="DeepWiki" class="md-nav__button md-logo" aria-label="DeepWiki" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    DeepWiki
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Chesszyh/Wiki" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Welcome to DeepWiki
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Celery deepwiki
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Celery deepwiki
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    1 celery overview
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    1 celery overview
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/1-celery-overview/1.1-installation-and-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation and Setup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/1-celery-overview/1.2-core-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Core Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/1-celery-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Celery Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    2 the celery application
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    2 the celery application
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/2-the-celery-application/2.1-application-initialization-and-configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Application Initialization and Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/2-the-celery-application/2.2-task-registration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Task Registration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/2-the-celery-application/2.3-message-brokers-and-routing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Message Brokers and Routing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/2-the-celery-application/2.4-amqp-layer-and-message-protocol/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AMQP Layer and Message Protocol
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/2-the-celery-application/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    The Celery Application
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    3 tasks
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    3 tasks
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/3-tasks/3.1-task-definition-and-invocation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Task Definition and Invocation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/3-tasks/3.2-task-lifecycle-and-states/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Task Lifecycle and States
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/3-tasks/3.3-error-handling-and-retry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Error Handling and Retry
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/3-tasks/3.4-time-limits-and-rate-limits/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Time Limits and Rate Limits
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/3-tasks/3.5-task-options-and-customization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Task Options and Customization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/3-tasks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tasks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7" >
        
          
          <label class="md-nav__link" for="__nav_2_7" id="__nav_2_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    4 canvas workflows
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    4 canvas workflows
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/4-canvas-workflows/4.1-signatures/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Signature and Composition
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/4-canvas-workflows/4.2-workflow-primitives/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Workflow Primitives
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/4-canvas-workflows/4.3-advanced-canvas-features/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Advanced Canvas Features
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/4-canvas-workflows/4.4-chord-execution/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chord Execution
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/4-canvas-workflows/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Canvas Workflows
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_9" >
        
          
          <label class="md-nav__link" for="__nav_2_9" id="__nav_2_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    5 workers
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    5 workers
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/5-workers/5.1-worker-architecture-and-bootsteps/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Worker Architecture and Bootsteps
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/5-workers/5.2-worker-lifecycle-and-shutdown/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Worker Lifecycle and Shutdown
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/5-workers/5.3-concurrency-models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Concurrency Models
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/5-workers/5.4-worker-configuration-and-control/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Worker Configuration and Control
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/5-workers/5.5-consumer-and-event-loops/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Consumer and Event Loops
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/5-workers/5.6-autoscaling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Autoscaling
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/5-workers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Workers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_11" >
        
          
          <label class="md-nav__link" for="__nav_2_11" id="__nav_2_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    6 result backends
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_11">
            <span class="md-nav__icon md-icon"></span>
            
  
    6 result backends
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/6-result-backends/6.1-backend-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Backend Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/6-result-backends/6.2-backend-implementations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Backend Implementations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/6-result-backends/6.3-result-storage-and-retrieval/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Result Serialization and Retrieval
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/6-result-backends/6.4-chord-coordination/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chord Coordination
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/6-result-backends/6.5-backend-resilience/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Error Handling and Resilience
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/6-result-backends/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Result Backends
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_13" >
        
          
          <label class="md-nav__link" for="__nav_2_13" id="__nav_2_13_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    7 periodic tasks (beat)
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_13">
            <span class="md-nav__icon md-icon"></span>
            
  
    7 periodic tasks (beat)
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/7-periodic-tasks-%28beat%29/7.1-beat-scheduler-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Beat Scheduler Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/7-periodic-tasks-%28beat%29/7.2-schedule-types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Schedule Types
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/7-periodic-tasks-%28beat%29/7.3-time-and-timezone-handling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Time and Timezone Handling
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/7-periodic-tasks-%28beat%29/7.4-persistent-storage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Persistent Storage
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/7-periodic-tasks-%28beat%29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Periodic Tasks (Beat)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_15" >
        
          
          <label class="md-nav__link" for="__nav_2_15" id="__nav_2_15_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    8 monitoring and control
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_15">
            <span class="md-nav__icon md-icon"></span>
            
  
    8 monitoring and control
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/8-monitoring-and-control/8.1-remote-control-commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Remote Control Commands
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/8-monitoring-and-control/8.2-worker-inspection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Worker Inspection
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/8-monitoring-and-control/8.3-event-system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Event System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/8-monitoring-and-control/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Monitoring and Control
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_17" >
        
          
          <label class="md-nav__link" for="__nav_2_17" id="__nav_2_17_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    9 command line interface
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_17_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_17">
            <span class="md-nav__icon md-icon"></span>
            
  
    9 command line interface
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/9-command-line-interface/9.1-cli-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CLI Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/9-command-line-interface/9.2-worker-and-beat-commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Worker and Beat Commands
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/9-command-line-interface/9.3-management-commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Management Commands
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/9-command-line-interface/9.4-multi-worker-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Multi-worker Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/9-command-line-interface/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Command Line Interface
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_19" >
        
          
          <label class="md-nav__link" for="__nav_2_19" id="__nav_2_19_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    10 development and testing
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_19_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_19">
            <span class="md-nav__icon md-icon"></span>
            
  
    10 development and testing
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/10-development-and-testing/10.1-testing-infrastructure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Testing Infrastructure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/10-development-and-testing/10.2-test-matrix-and-environments/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Test Matrix and Environments
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/10-development-and-testing/10.3-integration-and-smoke-tests/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Integration and Smoke Tests
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/10-development-and-testing/10.4-code-quality-and-documentation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Code Quality and Documentation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/10-development-and-testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Development and Testing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_21" >
        
          
          <label class="md-nav__link" for="__nav_2_21" id="__nav_2_21_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    11 packaging and distribution
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_21_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_21">
            <span class="md-nav__icon md-icon"></span>
            
  
    11 packaging and distribution
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/11-packaging-and-distribution/11.1-package-structure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Package Structure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/11-packaging-and-distribution/11.2-dependencies-and-extras/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Dependencies and Extras
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/11-packaging-and-distribution/11.3-version-management-and-release/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Version Management and Release
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../celery_deepwiki/11-packaging-and-distribution/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Packaging and Distribution
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Lc0 deepwiki
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Lc0 deepwiki
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/1-lc0-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lc0 Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    2 building and installation
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    2 building and installation
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/2-building-and-installation/2.1-build-system-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Build System Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/2-building-and-installation/2.2-linux-and-macos-build-process/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Linux and macOS Build Process
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/2-building-and-installation/2.3-windows-build-process/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Windows Build Process
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/2-building-and-installation/2.4-version-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Version Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/2-building-and-installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Building and Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    3 core engine architecture
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    3 core engine architecture
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/3-core-engine-architecture/3.1-uci-protocol-implementation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    UCI Protocol Implementation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/3-core-engine-architecture/3.2-configuration-system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuration System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/3-core-engine-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Core Engine Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    4 chess representation
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    4 chess representation
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/4-chess-representation/4.1-bitboards-and-move-generation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Bitboards
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/4-chess-representation/4.2-position-encoding-and-history/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Position Encoding and History
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/4-chess-representation/4.3-syzygy-tablebase-integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Syzygy Tablebase Integration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/4-chess-representation/4.4-pgn-and-game-import/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    PGN and Game Import
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/4-chess-representation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chess Representation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_8" >
        
          
          <label class="md-nav__link" for="__nav_3_8" id="__nav_3_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    5 search algorithm
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    5 search algorithm
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/5-search-algorithm/5.1-mcts-implementation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MCTS Implementation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/5-search-algorithm/5.2-search-parameters-and-stopping-conditions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Search Parameters and Stopping Conditions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/5-search-algorithm/5.3-search-tree-caching/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Caching System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/5-search-algorithm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Search Algorithm
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_10" >
        
          
          <label class="md-nav__link" for="__nav_3_10" id="__nav_3_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    6 neural network system
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    6 neural network system
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/6-neural-network-system/6.1-network-interface-and-backend-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Network Interface and Backend Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/6-neural-network-system/6.2-weights-loading-and-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Weights Loading and Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/6-neural-network-system/6.3-cuda-and-cudnn-backend/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CUDA and cuDNN Backend
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/6-neural-network-system/6.4-onnx-integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ONNX Integration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/6-neural-network-system/6.5-xla-and-hlo-support/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    XLA and HLO Support
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/6-neural-network-system/6.6-memory-caching-and-performance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Memory Caching and Performance
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/6-neural-network-system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Neural Network System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_12" >
        
          
          <label class="md-nav__link" for="__nav_3_12" id="__nav_3_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    7 self play system
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_12">
            <span class="md-nav__icon md-icon"></span>
            
  
    7 self play system
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/7-self-play-system/7.1-tournament-organization-and-game-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tournament Organization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/7-self-play-system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Self-Play System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_14" >
        
          
          <label class="md-nav__link" for="__nav_3_14" id="__nav_3_14_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    8 utilities and infrastructure
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_14">
            <span class="md-nav__icon md-icon"></span>
            
  
    8 utilities and infrastructure
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/8-utilities-and-infrastructure/8.1-fast-mathematical-functions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Fast Mathematical Functions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/8-utilities-and-infrastructure/8.2-threading-and-synchronization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Threading and Synchronization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/8-utilities-and-infrastructure/8.3-benchmarking-and-performance-testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Benchmarking and Performance Testing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/8-utilities-and-infrastructure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Utilities and Infrastructure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_16" >
        
          
          <label class="md-nav__link" for="__nav_3_16" id="__nav_3_16_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    9 continuous integration and deployment
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_16">
            <span class="md-nav__icon md-icon"></span>
            
  
    9 continuous integration and deployment
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/9-continuous-integration-and-deployment/9.1-circleci-workflows/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CircleCI Workflows
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/9-continuous-integration-and-deployment/9.2-windows-build-and-packaging/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Windows Build and Packaging
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lc0_deepwiki/9-continuous-integration-and-deployment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Continuous Integration and Deployment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Linux deepwiki
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Linux deepwiki
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1-linux-kernel-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Linux Kernel Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    2 rust for linux
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    2 rust for linux
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2-rust-for-linux/2.1-rust-kernel-apis-and-abstractions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Rust Kernel APIs and Abstractions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2-rust-for-linux/2.2-nova-drm-graphics-driver/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Nova DRM Graphics Driver
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2-rust-for-linux/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Rust for Linux
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    3 virtualization (kvm)
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    3 virtualization (kvm)
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../3-virtualization-%28kvm%29/3.1-kvm-x86-virtualization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    KVM x86 Virtualization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../3-virtualization-%28kvm%29/3.2-kvm-arm64-virtualization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    KVM ARM64 Virtualization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../3-virtualization-%28kvm%29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Virtualization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_6" checked>
        
          
          <label class="md-nav__link" for="__nav_4_6" id="__nav_4_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    4 core kernel infrastructure
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    4 core kernel infrastructure
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4.1-process-scheduling-and-sched_ext/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Process Scheduling and sched_ext
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Tracing and Observability
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Tracing and Observability
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#architecture-overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Architecture Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ring-buffer-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ring Buffer Implementation
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ring Buffer Implementation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ring-buffer-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ring Buffer Architecture
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ring-buffer-page-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ring Buffer Page Management
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ring-buffer-event-format" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ring Buffer Event Format
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ftrace-function-tracing-infrastructure" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ftrace: Function Tracing Infrastructure
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ftrace: Function Tracing Infrastructure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ftrace-core-components" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ftrace Core Components
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ftrace-operations-and-filtering" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ftrace Operations and Filtering
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dynamic-function-patching" class="md-nav__link">
    <span class="md-ellipsis">
      
        Dynamic Function Patching
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#trace-events-and-tracepoints" class="md-nav__link">
    <span class="md-ellipsis">
      
        Trace Events and Tracepoints
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Trace Events and Tracepoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trace-event-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      
        Trace Event Architecture
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#event-registration-and-enablement" class="md-nav__link">
    <span class="md-ellipsis">
      
        Event Registration and Enablement
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#event-filtering" class="md-nav__link">
    <span class="md-ellipsis">
      
        Event Filtering
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamic-probes-kprobes-uprobes-fprobes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Dynamic Probes: kprobes, uprobes, fprobes
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Dynamic Probes: kprobes, uprobes, fprobes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dynamic-probe-types" class="md-nav__link">
    <span class="md-ellipsis">
      
        Dynamic Probe Types
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#probe-event-creation-and-arguments" class="md-nav__link">
    <span class="md-ellipsis">
      
        Probe Event Creation and Arguments
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fprobe-and-function-graph-integration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Fprobe and Function Graph Integration
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#function-graph-tracer" class="md-nav__link">
    <span class="md-ellipsis">
      
        Function Graph Tracer
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Function Graph Tracer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#function-graph-infrastructure" class="md-nav__link">
    <span class="md-ellipsis">
      
        Function Graph Infrastructure
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-graph-data-structures" class="md-nav__link">
    <span class="md-ellipsis">
      
        Function Graph Data Structures
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#graph-tracer-output-format" class="md-nav__link">
    <span class="md-ellipsis">
      
        Graph Tracer Output Format
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#histogram-triggers" class="md-nav__link">
    <span class="md-ellipsis">
      
        Histogram Triggers
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Histogram Triggers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#histogram-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      
        Histogram Architecture
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#histogram-trigger-syntax" class="md-nav__link">
    <span class="md-ellipsis">
      
        Histogram Trigger Syntax
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#histogram-tracing-map-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Histogram Tracing Map Implementation
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tracefs-interface" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tracefs Interface
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tracefs Interface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tracefs-file-hierarchy" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tracefs File Hierarchy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common-tracefs-operations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Common Tracefs Operations
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tracer-plugins" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tracer Plugins
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tracer Plugins">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tracer-plugin-interface" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tracer Plugin Interface
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#latency-tracers" class="md-nav__link">
    <span class="md-ellipsis">
      
        Latency Tracers
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#performance-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Performance Considerations
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Performance Considerations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overhead-mitigation-techniques" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overhead Mitigation Techniques
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#buffer-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        Buffer Management
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integration-with-other-subsystems" class="md-nav__link">
    <span class="md-ellipsis">
      
        Integration with Other Subsystems
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Integration with Other Subsystems">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scheduler-integration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Scheduler Integration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpf-integration" class="md-nav__link">
    <span class="md-ellipsis">
      
        BPF Integration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#synthetic-events" class="md-nav__link">
    <span class="md-ellipsis">
      
        Synthetic Events
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      
        Summary
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4.3-build-system-and-kbuild/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Build System and Kbuild
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Core Kernel Infrastructure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_8" >
        
          
          <label class="md-nav__link" for="__nav_4_8" id="__nav_4_8_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    5 storage and io
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    5 storage and io
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../5-storage-and-io/5.1-io_uring-asynchronous-io/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    io_uring Asynchronous I/O
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../5-storage-and-io/5.2-btrfs-copy-on-write-filesystem/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Btrfs Copy-on-Write Filesystem
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../5-storage-and-io/5.3-ufs-storage-controller/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    UFS Storage Controller
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../5-storage-and-io/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Storage and I/O
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_10" >
        
          
          <label class="md-nav__link" for="__nav_4_10" id="__nav_4_10_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    6 graphics and display
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    6 graphics and display
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../6-graphics-and-display/6.1-amdgpu-driver/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AMDGPU Driver
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../6-graphics-and-display/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Graphics and Display
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Ragflow deepwiki
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Ragflow deepwiki
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/1-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    2 getting started and deployment
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    2 getting started and deployment
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/2-getting-started-and-deployment/2.1-docker-compose-deployment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Docker Compose Deployment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/2-getting-started-and-deployment/2.4-build-system-and-cicd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Build System and CI/CD
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/2-getting-started-and-deployment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Getting Started and Deployment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4" >
        
          
          <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    3 system architecture
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    3 system architecture
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/3-system-architecture/3.1-core-application-services/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Core Application Services
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/3-system-architecture/3.2-data-storage-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Data Storage Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/3-system-architecture/3.3-task-execution-and-queue-system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Task Execution and Queue System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/3-system-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    System Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_6" >
        
          
          <label class="md-nav__link" for="__nav_5_6" id="__nav_5_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    4 frontend application
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    4 frontend application
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/4-frontend-application/4.1-internationalization-system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Internationalization System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/4-frontend-application/4.2-application-structure-and-ui-features/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Application Structure and Routing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/4-frontend-application/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Frontend Application
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_8" >
        
          
          <label class="md-nav__link" for="__nav_5_8" id="__nav_5_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    5 llm integration system
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    5 llm integration system
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/5-llm-integration-system/5.1-model-factory-pattern-and-registration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Model Factory Pattern and Registration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/5-llm-integration-system/5.2-provider-implementations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Provider Implementations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/5-llm-integration-system/5.3-error-handling-and-retry-logic/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Error Handling and Retry Logic
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/5-llm-integration-system/5.4-tenant-configuration-and-usage-tracking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tenant Configuration and Usage Tracking
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/5-llm-integration-system/5.5-tool-calling-and-function-use/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tool Calling and Function Use
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/5-llm-integration-system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    LLM Integration System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_10" >
        
          
          <label class="md-nav__link" for="__nav_5_10" id="__nav_5_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    6 document processing pipeline
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    6 document processing pipeline
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/6-document-processing-pipeline/6.1-document-parsing-strategies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Document Parsing Strategies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/6-document-processing-pipeline/6.2-chunking-methods/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chunking Methods
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/6-document-processing-pipeline/6.3-content-enhancement-and-embedding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Content Enhancement and Embedding
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/6-document-processing-pipeline/6.4-layout-recognition-and-ocr/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Layout Recognition and OCR
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/6-document-processing-pipeline/6.5-knowledge-graph-construction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Knowledge Graph Construction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/6-document-processing-pipeline/6.6-raptor-hierarchical-summarization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    RAPTOR Hierarchical Summarization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/6-document-processing-pipeline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Document Processing Pipeline
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_12" >
        
          
          <label class="md-nav__link" for="__nav_5_12" id="__nav_5_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    7 data source integration
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_12">
            <span class="md-nav__icon md-icon"></span>
            
  
    7 data source integration
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/7-data-source-integration/7.1-connector-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Connector Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/7-data-source-integration/7.2-synchronization-and-scheduling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Synchronization and Scheduling
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/7-data-source-integration/7.3-supported-data-sources/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Supported Data Sources
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/7-data-source-integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Data Source Integration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_14" >
        
          
          <label class="md-nav__link" for="__nav_5_14" id="__nav_5_14_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    8 backend api system
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_14">
            <span class="md-nav__icon md-icon"></span>
            
  
    8 backend api system
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/8-backend-api-system/8.1-api-architecture-and-sdk/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API Architecture and SDK
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/8-backend-api-system/8.2-authentication-and-authorization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Authentication and Multi-tenancy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/8-backend-api-system/8.3-dataset-and-knowledge-base-apis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Dataset and Knowledge Base APIs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/8-backend-api-system/8.4-document-and-file-management-apis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Document and File Management APIs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/8-backend-api-system/8.5-chat-and-conversation-apis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chat and Conversation APIs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/8-backend-api-system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Backend API System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_16" >
        
          
          <label class="md-nav__link" for="__nav_5_16" id="__nav_5_16_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    9 agent and workflow system
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_16">
            <span class="md-nav__icon md-icon"></span>
            
  
    9 agent and workflow system
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/9-agent-and-workflow-system/9.1-canvas-engine-and-dsl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Canvas Engine and DSL
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/9-agent-and-workflow-system/9.2-component-system-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Component System Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/9-agent-and-workflow-system/9.3-built-in-components/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Built-in Components
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/9-agent-and-workflow-system/9.4-workflow-execution-and-streaming/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Workflow Execution and Streaming
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/9-agent-and-workflow-system/9.5-state-and-variable-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    State and Variable Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/9-agent-and-workflow-system/9.6-agent-tools-and-react-loop/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Agent Tools and ReAct Loop
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/9-agent-and-workflow-system/9.7-canvas-api-and-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Canvas API and Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/9-agent-and-workflow-system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Agent and Workflow System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_18" >
        
          
          <label class="md-nav__link" for="__nav_5_18" id="__nav_5_18_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    10 retrieval and rag system
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_18_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_18">
            <span class="md-nav__icon md-icon"></span>
            
  
    10 retrieval and rag system
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/10-retrieval-and-rag-system/10.1-query-processing-and-refinement/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Query Processing and Refinement
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/10-retrieval-and-rag-system/10.2-hybrid-search-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hybrid Search Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/10-retrieval-and-rag-system/10.3-reranking-and-metadata-filtering/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Reranking and Metadata Filtering
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/10-retrieval-and-rag-system/10.4-response-generation-and-citations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Response Generation and Citations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ragflow_deepwiki/10-retrieval-and-rag-system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Retrieval and RAG System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Redis deepwiki
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Redis deepwiki
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/1-redis-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Redis Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2" >
        
          
          <label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    2 redis core
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    2 redis core
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/2-redis-core/2.1-server-architecture-and-lifecycle/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Server Architecture and Lifecycle
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/2-redis-core/2.2-client-connection-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Client Connection Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/2-redis-core/2.3-command-processing-pipeline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Command Processing Pipeline
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/2-redis-core/2.4-configuration-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuration Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/2-redis-core/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Redis Core
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_4" >
        
          
          <label class="md-nav__link" for="__nav_6_4" id="__nav_6_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    3 data storage and management
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    3 data storage and management
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/3-data-storage-and-management/3.1-core-data-types-implementation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Core Data Types Implementation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/3-data-storage-and-management/3.2-streams-and-blocking-operations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Streams and Blocking Operations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/3-data-storage-and-management/3.3-hyperloglog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HyperLogLog
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/3-data-storage-and-management/3.4-memory-efficient-data-structures/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Memory-Efficient Data Structures
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/3-data-storage-and-management/3.5-dictionary-and-key-value-store/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Dictionary and Key-Value Store
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/3-data-storage-and-management/3.6-dynamic-string-library/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Dynamic String Library
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/3-data-storage-and-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Data Storage and Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_6" >
        
          
          <label class="md-nav__link" for="__nav_6_6" id="__nav_6_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    4 memory management
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    4 memory management
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/4-memory-management/4.1-eviction-and-expiration-policies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Eviction and Expiration Policies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/4-memory-management/4.2-memory-allocators-and-build-system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Memory Allocators and Build System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/4-memory-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Memory Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_8" >
        
          
          <label class="md-nav__link" for="__nav_6_8" id="__nav_6_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    5 scripting and extensions
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    5 scripting and extensions
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/5-scripting-and-extensions/5.1-lua-scripting-and-redis-functions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lua Scripting and Redis Functions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/5-scripting-and-extensions/5.2-redis-module-api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Redis Module API
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/5-scripting-and-extensions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Scripting and Extensions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_10" >
        
          
          <label class="md-nav__link" for="__nav_6_10" id="__nav_6_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    6 high availability and distribution
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    6 high availability and distribution
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/6-high-availability-and-distribution/6.1-redis-cluster/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Redis Cluster
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/6-high-availability-and-distribution/6.2-redis-sentinel/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Redis Sentinel
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/6-high-availability-and-distribution/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    High Availability and Scaling
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/7-persistence-and-replication/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Persistence and Replication
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_13" >
        
          
          <label class="md-nav__link" for="__nav_6_13" id="__nav_6_13_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    8 security
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_13">
            <span class="md-nav__icon md-icon"></span>
            
  
    8 security
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/8-security/8.1-access-control-lists/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Access Control Lists
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/8-security/8.2-network-security-and-tls/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Network Security and TLS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/8-security/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Security
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_15" >
        
          
          <label class="md-nav__link" for="__nav_6_15" id="__nav_6_15_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    9 client tools
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_15">
            <span class="md-nav__icon md-icon"></span>
            
  
    9 client tools
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/9-client-tools/9.1-redis-cli-and-benchmark-tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Redis CLI and Benchmark Tools
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/9-client-tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Client Tools
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_17" >
        
          
          <label class="md-nav__link" for="__nav_6_17" id="__nav_6_17_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    10 development and testing
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_17_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_17">
            <span class="md-nav__icon md-icon"></span>
            
  
    10 development and testing
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/10-development-and-testing/10.1-build-system-and-dependencies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Build System and Dependencies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/10-development-and-testing/10.2-testing-framework/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Testing Framework
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/10-development-and-testing/10.3-continuous-integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Continuous Integration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../redis_deepwiki/10-development-and-testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Development and Testing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Stockfish deepwiki
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Stockfish deepwiki
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../stockfish_deepwiki/2-core-data-structures-and-types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Core Data Structures and Types
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2" >
        
          
          <label class="md-nav__link" for="__nav_7_2" id="__nav_7_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    3 board representation
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    3 board representation
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../stockfish_deepwiki/3-board-representation/3.1-position-and-state-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Position and State Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../stockfish_deepwiki/3-board-representation/3.2-bitboards-and-low-level-operations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Bitboards and Low-level Operations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../stockfish_deepwiki/3-board-representation/3.3-move-generation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Move Generation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../stockfish_deepwiki/3-board-representation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Board Representation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4" >
        
          
          <label class="md-nav__link" for="__nav_7_4" id="__nav_7_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    4 search system
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    4 search system
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../stockfish_deepwiki/4-search-system/4.1-search-algorithm-and-iterative-deepening/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Search Algorithm and Iterative Deepening
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../stockfish_deepwiki/4-search-system/4.2-thread-management-and-parallel-search/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Thread Management and Parallel Search
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../stockfish_deepwiki/4-search-system/4.3-move-ordering-and-move-picker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Move Ordering and Move Picker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../stockfish_deepwiki/4-search-system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Search System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_6" >
        
          
          <label class="md-nav__link" for="__nav_7_6" id="__nav_7_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    5 evaluation system
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    5 evaluation system
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../stockfish_deepwiki/5-evaluation-system/5.1-nnue-neural-network-evaluation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    NNUE Neural Network Evaluation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../stockfish_deepwiki/5-evaluation-system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Evaluation System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_8" >
        
          
          <label class="md-nav__link" for="__nav_7_8" id="__nav_7_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    6 external interface
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    6 external interface
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../stockfish_deepwiki/6-external-interface/6.1-uci-protocol-handler/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    UCI Protocol Handler
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../stockfish_deepwiki/6-external-interface/6.2-uci-options-and-configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    UCI Options and Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../stockfish_deepwiki/6-external-interface/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    External Interface
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_10" >
        
          
          <label class="md-nav__link" for="__nav_7_10" id="__nav_7_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    7 infrastructure and support
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    7 infrastructure and support
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../stockfish_deepwiki/7-infrastructure-and-support/7.1-build-system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Build System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../stockfish_deepwiki/7-infrastructure-and-support/7.2-utilities-and-support-functions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Utilities and Support Functions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../stockfish_deepwiki/7-infrastructure-and-support/7.3-testing-and-benchmarking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Testing and Benchmarking
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../stockfish_deepwiki/7-infrastructure-and-support/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Infrastructure and Support
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#architecture-overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Architecture Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ring-buffer-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ring Buffer Implementation
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ring Buffer Implementation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ring-buffer-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ring Buffer Architecture
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ring-buffer-page-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ring Buffer Page Management
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ring-buffer-event-format" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ring Buffer Event Format
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ftrace-function-tracing-infrastructure" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ftrace: Function Tracing Infrastructure
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ftrace: Function Tracing Infrastructure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ftrace-core-components" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ftrace Core Components
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ftrace-operations-and-filtering" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ftrace Operations and Filtering
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dynamic-function-patching" class="md-nav__link">
    <span class="md-ellipsis">
      
        Dynamic Function Patching
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#trace-events-and-tracepoints" class="md-nav__link">
    <span class="md-ellipsis">
      
        Trace Events and Tracepoints
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Trace Events and Tracepoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trace-event-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      
        Trace Event Architecture
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#event-registration-and-enablement" class="md-nav__link">
    <span class="md-ellipsis">
      
        Event Registration and Enablement
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#event-filtering" class="md-nav__link">
    <span class="md-ellipsis">
      
        Event Filtering
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamic-probes-kprobes-uprobes-fprobes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Dynamic Probes: kprobes, uprobes, fprobes
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Dynamic Probes: kprobes, uprobes, fprobes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dynamic-probe-types" class="md-nav__link">
    <span class="md-ellipsis">
      
        Dynamic Probe Types
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#probe-event-creation-and-arguments" class="md-nav__link">
    <span class="md-ellipsis">
      
        Probe Event Creation and Arguments
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fprobe-and-function-graph-integration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Fprobe and Function Graph Integration
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#function-graph-tracer" class="md-nav__link">
    <span class="md-ellipsis">
      
        Function Graph Tracer
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Function Graph Tracer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#function-graph-infrastructure" class="md-nav__link">
    <span class="md-ellipsis">
      
        Function Graph Infrastructure
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-graph-data-structures" class="md-nav__link">
    <span class="md-ellipsis">
      
        Function Graph Data Structures
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#graph-tracer-output-format" class="md-nav__link">
    <span class="md-ellipsis">
      
        Graph Tracer Output Format
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#histogram-triggers" class="md-nav__link">
    <span class="md-ellipsis">
      
        Histogram Triggers
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Histogram Triggers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#histogram-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      
        Histogram Architecture
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#histogram-trigger-syntax" class="md-nav__link">
    <span class="md-ellipsis">
      
        Histogram Trigger Syntax
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#histogram-tracing-map-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Histogram Tracing Map Implementation
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tracefs-interface" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tracefs Interface
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tracefs Interface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tracefs-file-hierarchy" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tracefs File Hierarchy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common-tracefs-operations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Common Tracefs Operations
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tracer-plugins" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tracer Plugins
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tracer Plugins">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tracer-plugin-interface" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tracer Plugin Interface
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#latency-tracers" class="md-nav__link">
    <span class="md-ellipsis">
      
        Latency Tracers
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#performance-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Performance Considerations
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Performance Considerations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overhead-mitigation-techniques" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overhead Mitigation Techniques
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#buffer-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        Buffer Management
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integration-with-other-subsystems" class="md-nav__link">
    <span class="md-ellipsis">
      
        Integration with Other Subsystems
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Integration with Other Subsystems">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scheduler-integration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Scheduler Integration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpf-integration" class="md-nav__link">
    <span class="md-ellipsis">
      
        BPF Integration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#synthetic-events" class="md-nav__link">
    <span class="md-ellipsis">
      
        Synthetic Events
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      
        Summary
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="tracing-and-observability">Tracing and Observability<a class="headerlink" href="#tracing-and-observability" title="Permanent link">&para;</a></h1>
<p>Relevant source files</p>
<ul>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/Documentation/trace/events.rst">Documentation/trace/events.rst</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/Documentation/trace/ftrace.rst">Documentation/trace/ftrace.rst</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/arch/arm64/include/asm/ftrace.h">arch/arm64/include/asm/ftrace.h</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/arch/arm64/kernel/ftrace.c">arch/arm64/kernel/ftrace.c</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/arch/loongarch/include/asm/ftrace.h">arch/loongarch/include/asm/ftrace.h</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/arch/loongarch/kernel/ftrace_dyn.c">arch/loongarch/kernel/ftrace_dyn.c</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/arch/powerpc/include/asm/ftrace.h">arch/powerpc/include/asm/ftrace.h</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/arch/powerpc/kernel/trace/ftrace.c">arch/powerpc/kernel/trace/ftrace.c</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/arch/powerpc/kernel/trace/ftrace_64_pg.c">arch/powerpc/kernel/trace/ftrace_64_pg.c</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/arch/powerpc/kernel/trace/ftrace_entry.S">arch/powerpc/kernel/trace/ftrace_entry.S</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/arch/s390/include/asm/ftrace.h">arch/s390/include/asm/ftrace.h</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/arch/x86/include/asm/ftrace.h">arch/x86/include/asm/ftrace.h</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/arch/x86/kernel/ftrace.c">arch/x86/kernel/ftrace.c</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/arch/x86/kernel/ftrace_64.S">arch/x86/kernel/ftrace_64.S</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/include/linux/fprobe.h">include/linux/fprobe.h</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/include/linux/ftrace.h">include/linux/ftrace.h</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/include/linux/ftrace_regs.h">include/linux/ftrace_regs.h</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/include/linux/ring_buffer.h">include/linux/ring_buffer.h</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/include/linux/string.h">include/linux/string.h</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/include/linux/trace_events.h">include/linux/trace_events.h</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/include/trace/events/block.h">include/trace/events/block.h</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/include/trace/stages/stage3_trace_output.h">include/trace/stages/stage3_trace_output.h</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/include/trace/stages/stage7_class_define.h">include/trace/stages/stage7_class_define.h</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/Kconfig">kernel/trace/Kconfig</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/Makefile">kernel/trace/Makefile</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/blktrace.c">kernel/trace/blktrace.c</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/fgraph.c">kernel/trace/fgraph.c</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/fprobe.c">kernel/trace/fprobe.c</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/ftrace.c">kernel/trace/ftrace.c</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/pid_list.c">kernel/trace/pid_list.c</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/pid_list.h">kernel/trace/pid_list.h</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/ring_buffer.c">kernel/trace/ring_buffer.c</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace.c">kernel/trace/trace.c</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace.h">kernel/trace/trace.h</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_dynevent.c">kernel/trace/trace_dynevent.c</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_dynevent.h">kernel/trace/trace_dynevent.h</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_entries.h">kernel/trace/trace_entries.h</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_eprobe.c">kernel/trace/trace_eprobe.c</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_events.c">kernel/trace/trace_events.c</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_events_hist.c">kernel/trace/trace_events_hist.c</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_events_synth.c">kernel/trace/trace_events_synth.c</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_events_trigger.c">kernel/trace/trace_events_trigger.c</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_fprobe.c">kernel/trace/trace_fprobe.c</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_functions.c">kernel/trace/trace_functions.c</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_functions_graph.c">kernel/trace/trace_functions_graph.c</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_irqsoff.c">kernel/trace/trace_irqsoff.c</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_kdb.c">kernel/trace/trace_kdb.c</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_kprobe.c">kernel/trace/trace_kprobe.c</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_output.c">kernel/trace/trace_output.c</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_output.h">kernel/trace/trace_output.h</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_probe.c">kernel/trace/trace_probe.c</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_probe.h">kernel/trace/trace_probe.h</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_probe_tmpl.h">kernel/trace/trace_probe_tmpl.h</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_sched_switch.c">kernel/trace/trace_sched_switch.c</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_sched_wakeup.c">kernel/trace/trace_sched_wakeup.c</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_selftest.c">kernel/trace/trace_selftest.c</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_uprobe.c">kernel/trace/trace_uprobe.c</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/lib/tests/string_kunit.c">lib/tests/string_kunit.c</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/samples/fprobe/fprobe_example.c">samples/fprobe/fprobe_example.c</a></li>
<li><a href="https://github.com/torvalds/linux/blob/fcb70a56/samples/trace_events/trace-events-sample.h">samples/trace_events/trace-events-sample.h</a></li>
</ul>
<p>The Linux kernel tracing and observability infrastructure provides comprehensive mechanisms for debugging, performance analysis, and runtime introspection. This system enables developers to trace function calls, capture kernel events, measure latencies, and analyze system behavior with minimal overhead.</p>
<p>For information about the build system that compiles the tracing infrastructure, see <a href="/torvalds/linux/4.3-build-system-and-kbuild">Build System and Kbuild</a>. For information about the scheduler's integration with tracing (sched_ext tracing), see <a href="/torvalds/linux/4.1-process-scheduling-and-sched_ext">Process Scheduling and sched_ext</a>.</p>
<h2 id="architecture-overview">Architecture Overview<a class="headerlink" href="#architecture-overview" title="Permanent link">&para;</a></h2>
<p>The tracing infrastructure consists of several interconnected subsystems that work together to capture, store, and report kernel activity:</p>
<p><pre class="mermaid"><code>flowchart TD
    TraceFSAPI["tracefs API/sys/kernel/tracing"]
    TraceEvents["Event Filesevents/*/"]
    TracingOn["tracing_ontrace_pipe"]
    Ftrace["ftraceFunction Tracing"]
    TraceEvents_API["Trace EventsTRACE_EVENT()"]
    Kprobes["Dynamic Probeskprobe/uprobe/fprobe"]
    FunctionGraph["Function GraphEntry/Exit Tracing"]
    TraceCore["trace.cstruct trace_array"]
    Tracers["Tracer Pluginsstruct tracer"]
    TraceBuffer["trace_bufferPer-instance buffer"]
    RingBuffer["ring_buffer.cstruct trace_buffer"]
    PerCPUBuffer["Per-CPU Buffersring_buffer_per_cpu"]
    BufferPages["Buffer Pagesbuffer_page list"]
    FtraceCallsite["_mcount/fentrycallsites"]
    Tracepoints["DEFINE_TRACE()static tracepoints"]
    ProbePoints["Probe Insertionkprobe/uprobe sites"]

    TraceFSAPI --&gt; TraceCore
    TraceEvents --&gt; TraceCore
    TracingOn --&gt; TraceCore
    Ftrace --&gt; TraceCore
    TraceEvents --&gt; API_TraceCore
    Kprobes --&gt; TraceCore
    FunctionGraph --&gt; TraceCore
    TraceCore --&gt; Tracers
    TraceCore --&gt; TraceBuffer
    TraceBuffer --&gt; RingBuffer
    RingBuffer --&gt; PerCPUBuffer
    PerCPUBuffer --&gt; BufferPages
    FtraceCallsite --&gt; Ftrace
    Tracepoints --&gt; TraceEvents_API
    ProbePoints --&gt; Kprobes
    FunctionGraph --&gt; FtraceCallsite</code></pre>
<strong>Architecture: Core Tracing Subsystems and Data Flow</strong></p>
<p>The tracing system is organized in layers:</p>
<ul>
<li><strong>User Space Interface</strong>: The tracefs filesystem provides file-based control and output</li>
<li><strong>Frontend APIs</strong>: Different tracing mechanisms (ftrace, events, probes) for different use cases</li>
<li><strong>Core Infrastructure</strong>: Central coordination through <code>struct trace_array</code> and tracer plugins</li>
<li><strong>Ring Buffer</strong>: Lock-free per-CPU circular buffers for efficient data storage</li>
<li><strong>Data Collection</strong>: Instrumentation points throughout the kernel</li>
</ul>
<p>Sources: <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace.c#L534-L536">kernel/trace/trace.c534-536</a> <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace.h#L328-L449">kernel/trace/trace.h328-449</a> <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/ring_buffer.c#L570-L597">kernel/trace/ring_buffer.c570-597</a></p>
<h2 id="ring-buffer-implementation">Ring Buffer Implementation<a class="headerlink" href="#ring-buffer-implementation" title="Permanent link">&para;</a></h2>
<p>The ring buffer is the foundation of the tracing system, providing lock-free per-CPU storage for trace data with minimal overhead.</p>
<h3 id="ring-buffer-architecture">Ring Buffer Architecture<a class="headerlink" href="#ring-buffer-architecture" title="Permanent link">&para;</a></h3>
<p><pre class="mermaid"><code>flowchart TD
    TB_cpus["cpus: int"]
    TB_buffers["buffers: ring_buffer_per_cpu**"]
    TB_clock["clock: u64 (*)(void)"]
    TB_mutex["mutex: struct mutex"]
    RBPC_cpu["cpu: int"]
    RBPC_pages["pages: list_head"]
    RBPC_head_page["head_page: buffer_page*"]
    RBPC_tail_page["tail_page: buffer_page*"]
    RBPC_commit_page["commit_page: buffer_page*"]
    RBPC_reader_page["reader_page: buffer_page*"]
    RBPC_lock["lock: arch_spinlock_t"]
    BP_list["list: list_head"]
    BP_write["write: local_t"]
    BP_read["read: unsigned"]
    BP_page["page: buffer_data_page*"]
    BDP_time_stamp["time_stamp: u64"]
    BDP_commit["commit: local_t"]
    BDP_data["data: unsigned char[]"]

    TB --&gt; buffers_RBPC_cpu
    RBPC --&gt; pages_BP_list
    RBPC --&gt; head_page_BP_list
    RBPC --&gt; tail_page_BP_list
    RBPC --&gt; commit_page_BP_list
    RBPC --&gt; reader_page_BP_list
    BP --&gt; page_BDP_time_stamp</code></pre>
<strong>Diagram: Ring Buffer Data Structures</strong></p>
<p>The ring buffer uses a sophisticated page-swapping mechanism for lock-free reads:</p>
<ul>
<li><strong>Writer Operation</strong>: Writes to the tail page, advancing when full</li>
<li><strong>Reader Operation</strong>: Swaps its dedicated reader page with a buffer page</li>
<li><strong>Page Structure</strong>: Each page contains a timestamp, commit counter, and data array</li>
<li><strong>Per-CPU Design</strong>: Eliminates cross-CPU synchronization overhead</li>
</ul>
<p>Sources: <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/ring_buffer.c#L512-L568">kernel/trace/ring_buffer.c512-568</a> <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/ring_buffer.c#L340-L369">kernel/trace/ring_buffer.c340-369</a></p>
<h3 id="ring-buffer-page-management">Ring Buffer Page Management<a class="headerlink" href="#ring-buffer-page-management" title="Permanent link">&para;</a></h3>
<p>The ring buffer implements a lock-free design using per-CPU circular lists of pages with a special reader page:</p>
<table>
<thead>
<tr>
<th>Component</th>
<th>Purpose</th>
<th>Key Fields</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ring_buffer_per_cpu</code></td>
<td>Per-CPU buffer instance</td>
<td><code>head_page</code>, <code>tail_page</code>, <code>commit_page</code>, <code>reader_page</code></td>
</tr>
<tr>
<td><code>buffer_page</code></td>
<td>Page metadata</td>
<td><code>write</code> (local_t), <code>read</code>, <code>entries</code>, <code>real_end</code></td>
</tr>
<tr>
<td><code>buffer_data_page</code></td>
<td>Actual data storage</td>
<td><code>time_stamp</code>, <code>commit</code>, <code>data[]</code></td>
</tr>
<tr>
<td>Page List</td>
<td>Circular linked list</td>
<td>Writer moves through pages as they fill</td>
</tr>
<tr>
<td>Reader Page</td>
<td>Dedicated read page</td>
<td>Swapped with buffer pages for lock-free reading</td>
</tr>
</tbody>
</table>
<p>The key insight is that the reader page allows reads without blocking writes. When the reader finishes consuming its page, it swaps with the next page in the ring buffer, illustrated in the ASCII art at <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/ring_buffer.c#L88-L154">kernel/trace/ring_buffer.c88-154</a></p>
<p>Sources: <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/ring_buffer.c#L359-L369">kernel/trace/ring_buffer.c359-369</a> <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/ring_buffer.c#L512-L568">kernel/trace/ring_buffer.c512-568</a></p>
<h3 id="ring-buffer-event-format">Ring Buffer Event Format<a class="headerlink" href="#ring-buffer-event-format" title="Permanent link">&para;</a></h3>
<p>Events stored in the ring buffer use a compressed format to minimize overhead:</p>
<p><pre class="mermaid"><code>flowchart TD
    PADDING["RINGBUF_TYPE_PADDINGPadding to alignment"]
    TIME_EXTEND["RINGBUF_TYPE_TIME_EXTENDExtended timestamp"]
    TIME_STAMP["RINGBUF_TYPE_TIME_STAMPAbsolute timestamp"]
    DATA["RINGBUF_TYPE_DATA0-28: Actual data"]
    TypeLen["type_len: 5 bitsEvent type or length"]
    TimeDelta["time_delta: 27 bitsTimestamp delta"]
    Array["array: 32 bitsExtended data"]
    EventData["Event DataVariable length"]

    TypeLen --&gt; EventData
    TimeDelta --&gt; EventData
    Array --&gt; EventData</code></pre>
<strong>Diagram: Ring Buffer Event Encoding</strong></p>
<p>The event format uses bit-packing to minimize space:</p>
<ul>
<li><strong>type_len field (5 bits)</strong>: Encodes event type (padding, time extend, time stamp) or data length</li>
<li><strong>time_delta field (27 bits)</strong>: Stores timestamp delta from previous event</li>
<li><strong>array field</strong>: Used for extended length when type_len is 0, or for extended timestamp</li>
</ul>
<p>This compressed format allows the ring buffer to store events with minimal per-event overhead while supporting precise timestamps.</p>
<p>Sources: <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/ring_buffer.c#L66-L86">kernel/trace/ring_buffer.c66-86</a> <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/ring_buffer.c#L202-L242">kernel/trace/ring_buffer.c202-242</a></p>
<h2 id="ftrace-function-tracing-infrastructure">Ftrace: Function Tracing Infrastructure<a class="headerlink" href="#ftrace-function-tracing-infrastructure" title="Permanent link">&para;</a></h2>
<p>Ftrace provides comprehensive function call tracing with minimal runtime overhead through compiler instrumentation and dynamic patching.</p>
<h3 id="ftrace-core-components">Ftrace Core Components<a class="headerlink" href="#ftrace-core-components" title="Permanent link">&para;</a></h3>
<p><pre class="mermaid"><code>flowchart TD
    DynFtrace["struct dyn_ftracePer-function metadata"]
    ModifyCode["ftrace_modify_code()Text patching"]
    FtracePages["ftrace_pagesPage-based storage"]
    MCcount["fentry/_mcountInserted by -pg"]
    FtraceRegs["struct ftrace_regsRegister state"]
    FtraceOps["struct ftrace_opsTracing callbacks"]
    FtraceFunc["func: ftrace_func_tCallback function"]
    FtraceHash["func_hash: ftrace_hashFilter hash tables"]
    OpsList["ftrace_ops_listRCU list"]
    FilterHash["filter_hashFunctions to trace"]
    NotraceHash["notrace_hashFunctions to skip"]
    PIDList["function_pidsProcess filtering"]

    MCcount --&gt; FtraceOps
    FtraceOps --&gt; FtraceFunc
    FtraceOps --&gt; FtraceHash
    FtraceOps --&gt; OpsList
    FtraceHash --&gt; FilterHash
    FtraceHash --&gt; NotraceHash
    FtraceOps --&gt; PIDList
    DynFtrace --&gt; ModifyCode
    FtracePages --&gt; DynFtrace</code></pre>
<strong>Diagram: Ftrace Architecture and Control Flow</strong></p>
<p>Ftrace operates through multiple layers:</p>
<ul>
<li><strong>Compiler Instrumentation</strong>: GCC/Clang inserts <code>__fentry__</code> calls at function entry</li>
<li><strong>Dynamic Patching</strong>: Runtime modification of instrumentation to enable/disable tracing</li>
<li><strong>Callback System</strong>: <code>ftrace_ops</code> structures register callbacks with filtering</li>
<li><strong>Hash Tables</strong>: Efficient filtering by function name or address</li>
</ul>
<p>Sources: <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/ftrace.c#L88-L102">kernel/trace/ftrace.c88-102</a> <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/ftrace.c#L1143-L1149">kernel/trace/ftrace.c1143-1149</a> <a href="https://github.com/torvalds/linux/blob/fcb70a56/include/linux/ftrace.h#L1-L69">include/linux/ftrace.h1-69</a></p>
<h3 id="ftrace-operations-and-filtering">Ftrace Operations and Filtering<a class="headerlink" href="#ftrace-operations-and-filtering" title="Permanent link">&para;</a></h3>
<p>The <code>struct ftrace_ops</code> provides the interface for function tracing consumers:</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>func</code></td>
<td><code>ftrace_func_t</code></td>
<td>Callback invoked for each traced function</td>
</tr>
<tr>
<td><code>flags</code></td>
<td><code>unsigned long</code></td>
<td>Operational flags (SAVE_REGS, PID, etc.)</td>
</tr>
<tr>
<td><code>func_hash</code></td>
<td><code>struct ftrace_hash*</code></td>
<td>Hash tables for filtering</td>
</tr>
<tr>
<td><code>local_hash.filter_hash</code></td>
<td><code>struct ftrace_hash*</code></td>
<td>Functions to include</td>
</tr>
<tr>
<td><code>local_hash.notrace_hash</code></td>
<td><code>struct ftrace_hash*</code></td>
<td>Functions to exclude</td>
</tr>
<tr>
<td><code>trampoline</code></td>
<td><code>unsigned long</code></td>
<td>Custom trampoline address</td>
</tr>
</tbody>
</table>
<p>The filtering system uses hash tables to efficiently determine which functions to trace. The <code>ftrace_hash</code> structure <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/ftrace.c#L1087-L1090">kernel/trace/ftrace.c1087-1090</a> contains buckets of <code>ftrace_func_entry</code> elements indexed by function address.</p>
<p>Process-level filtering is achieved through <code>trace_pid_list</code> structures that store sets of PIDs to trace or exclude.</p>
<p>Sources: <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/ftrace.c#L1092-L1099">kernel/trace/ftrace.c1092-1099</a> <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace.c#L652-L724">kernel/trace/trace.c652-724</a></p>
<h3 id="dynamic-function-patching">Dynamic Function Patching<a class="headerlink" href="#dynamic-function-patching" title="Permanent link">&para;</a></h3>
<p>When <code>CONFIG_DYNAMIC_FTRACE</code> is enabled, ftrace uses runtime code modification to minimize overhead:</p>
<p><pre class="mermaid"><code>flowchart TD
    RecordMcount["recordmcountBuild time tool"]
    MCountLoc["__mcount_loc sectionFunction addresses"]
    FtraceInit["ftrace_init()Initialize structures"]
    CreatePages["Allocate ftrace_pages"]
    PopulateDynFtrace["Create dyn_ftrace entries"]
    EnableFunction["Enable functionPatch to call ftrace"]
    DisableFunction["Disable functionPatch to nop"]
    TextPoke["text_poke()Safe code modification"]

    RecordMcount --&gt; MCountLoc
    MCountLoc --&gt; FtraceInit
    FtraceInit --&gt; CreatePages
    CreatePages --&gt; PopulateDynFtrace
    PopulateDynFtrace --&gt; EnableFunction
    PopulateDynFtrace --&gt; DisableFunction
    EnableFunction --&gt; TextPoke
    DisableFunction --&gt; TextPoke</code></pre>
<strong>Diagram: Dynamic Ftrace Initialization and Runtime Patching</strong></p>
<p>The process works as follows:</p>
<ol>
<li><strong>Build Time</strong>: <code>recordmcount</code> tool identifies all function entry points</li>
<li><strong>Boot Time</strong>: <code>ftrace_init()</code> creates <code>dyn_ftrace</code> entries for each function</li>
<li><strong>Runtime</strong>: Code is patched to either call ftrace handlers or execute as NOPs</li>
</ol>
<p>This allows tracing to be enabled/disabled with zero overhead when disabled.</p>
<p>Sources: <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/ftrace.c#L1143-L1153">kernel/trace/ftrace.c1143-1153</a> <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/ftrace.c#L331-L392">kernel/trace/ftrace.c331-392</a></p>
<h2 id="trace-events-and-tracepoints">Trace Events and Tracepoints<a class="headerlink" href="#trace-events-and-tracepoints" title="Permanent link">&para;</a></h2>
<p>Trace events provide static instrumentation points throughout the kernel using the <code>TRACE_EVENT()</code> macro system.</p>
<h3 id="trace-event-architecture">Trace Event Architecture<a class="headerlink" href="#trace-event-architecture" title="Permanent link">&para;</a></h3>
<p><pre class="mermaid"><code>flowchart TD
    TRACE_EVENT["TRACE_EVENT()Macro definition"]
    EventClass["trace_event_classShared functionality"]
    EventCall["trace_event_callPer-event metadata"]
    FieldsArray["fields_arrayField definitions"]
    DefineFields["define_fields()Field registration"]
    PrintFmt["print_fmtFormat string"]
    EventFile["trace_event_filePer-instance state"]
    EnabledFlag["flags: enabled/filtered"]
    FilterExpr["filterEvent filter"]
    Trigger["triggerTrigger commands"]
    Tracepoint["Tracepoint invocationtrace_##name()"]
    ReserveEvent["trace_event_buffer_reserve()"]
    RecordData["Store event data"]
    CommitEvent["trace_event_buffer_commit()"]

    TRACE --&gt; EVENT_EventClass
    TRACE --&gt; EVENT_EventCall
    EventClass --&gt; FieldsArray
    EventClass --&gt; DefineFields
    EventCall --&gt; PrintFmt
    EventCall --&gt; EventFile
    EventFile --&gt; EnabledFlag
    EventFile --&gt; FilterExpr
    EventFile --&gt; Trigger
    EventFile --&gt; Tracepoint
    Tracepoint --&gt; ReserveEvent
    ReserveEvent --&gt; RecordData
    RecordData --&gt; CommitEvent</code></pre>
<strong>Diagram: Trace Event Infrastructure</strong></p>
<p>The trace event system uses code generation to create efficient tracing code:</p>
<ul>
<li><strong>TRACE_EVENT() macro</strong>: Defines event name, arguments, fields, and print format</li>
<li><strong>trace_event_class</strong>: Shared code for events with the same signature</li>
<li><strong>trace_event_call</strong>: Per-event metadata including name, system, and format</li>
<li><strong>trace_event_file</strong>: Per-instance state tracking enabled/filtered status</li>
</ul>
<p>Sources: <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_events.c#L1-L49">kernel/trace/trace_events.c1-49</a> <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace.h#L181-L227">kernel/trace/trace.h181-227</a> <a href="https://github.com/torvalds/linux/blob/fcb70a56/include/linux/trace_events.h#L1-L700">include/linux/trace_events.h1-700</a></p>
<h3 id="event-registration-and-enablement">Event Registration and Enablement<a class="headerlink" href="#event-registration-and-enablement" title="Permanent link">&para;</a></h3>
<p>Trace events are registered at boot or module load time and can be dynamically enabled:</p>
<table>
<thead>
<tr>
<th>State</th>
<th>Description</th>
<th>Implementation</th>
</tr>
</thead>
<tbody>
<tr>
<td>Registered</td>
<td>Event exists in system</td>
<td><code>trace_event_call</code> in <code>ftrace_events</code> list</td>
</tr>
<tr>
<td>Enabled</td>
<td>Event records to buffer</td>
<td><code>TRACE_EVENT_FL_ENABLED</code> flag set</td>
</tr>
<tr>
<td>Filtered</td>
<td>Event has filter</td>
<td><code>event_filter</code> attached to <code>trace_event_file</code></td>
</tr>
<tr>
<td>Triggered</td>
<td>Event has triggers</td>
<td><code>event_trigger_data</code> list attached</td>
</tr>
</tbody>
</table>
<p>The enablement path flows through:</p>
<ol>
<li>User writes "1" to <code>events/&lt;system&gt;/&lt;event&gt;/enable</code></li>
<li><code>event_enable_write()</code> processes the write <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_events.c">kernel/trace/trace_events.c</a></li>
<li>Calls <code>ftrace_event_enable_disable()</code> to update state</li>
<li>Updates flags and potentially registers/unregisters tracepoints</li>
</ol>
<p>Sources: <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_events.c#L618-L700">kernel/trace/trace_events.c618-700</a> <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace.h#L324-L449">kernel/trace/trace.h324-449</a></p>
<h3 id="event-filtering">Event Filtering<a class="headerlink" href="#event-filtering" title="Permanent link">&para;</a></h3>
<p>Events support runtime filtering using a simple expression language:</p>
<p><pre class="mermaid"><code>flowchart TD
    FilterString["'pid == 1234 &amp;&amp; ret &lt; 0'"]
    Parser["Filter parserparse_filter()"]
    AndNode["AND node"]
    EqNode["== nodepid, 1234"]
    LtNode["&lt; noderet, 0"]
    Pred1["Predicate 1Compare pid"]
    Pred2["Predicate 2Compare ret"]
    CombineOp["Combine with AND"]
    EventRecord["Event occurs"]
    FilterEval["filter_match_preds()"]
    Decision["Record or Drop"]

    FilterString --&gt; Parser
    Parser --&gt; AndNode
    AndNode --&gt; EqNode
    AndNode --&gt; LtNode
    EqNode --&gt; Pred1
    LtNode --&gt; Pred2
    Pred1 --&gt; CombineOp
    Pred2 --&gt; CombineOp
    EventRecord --&gt; FilterEval
    FilterEval --&gt; CombineOp
    CombineOp --&gt; Decision</code></pre>
<strong>Diagram: Event Filter Processing Pipeline</strong></p>
<p>Filters are compiled into a predicate tree that is evaluated when events occur. This allows efficient filtering without impacting unrelated events.</p>
<p>Sources: <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_events.c#L1-L700">kernel/trace/trace_events.c1-700</a> <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_events_filter.c">kernel/trace/trace_events_filter.c</a></p>
<h2 id="dynamic-probes-kprobes-uprobes-fprobes">Dynamic Probes: kprobes, uprobes, fprobes<a class="headerlink" href="#dynamic-probes-kprobes-uprobes-fprobes" title="Permanent link">&para;</a></h2>
<p>Dynamic probes allow instrumentation of arbitrary kernel and user-space functions without recompilation.</p>
<h3 id="dynamic-probe-types">Dynamic Probe Types<a class="headerlink" href="#dynamic-probe-types" title="Permanent link">&para;</a></h3>
<p><pre class="mermaid"><code>flowchart TD
    Kprobe_Define["trace_kprobestruct trace_probe"]
    Kprobe_Attach["Attach to kernel functionsymbol or address"]
    Kprobe_Handler["Pre/post handlerskprobe.h"]
    Uprobe_Define["trace_uprobestruct trace_probe"]
    Uprobe_Attach["Attach to user binarypath:offset"]
    Uprobe_Handler["Uprobe handlersuprobes.h"]
    Fprobe_Define["trace_fprobestruct trace_probe"]
    Fprobe_Attach["Attach to functionuses ftrace"]
    Fprobe_Handler["Entry/exit handlersfprobe.h"]
    TraceProbe["struct trace_probeCommon base"]
    ProbeArgs["tp.args[]Argument capture"]
    TraceEvent["trace_event_callGenerated event"]

    Kprobe --&gt; Define_TraceProbe
    Uprobe --&gt; Define_TraceProbe
    Fprobe --&gt; Define_TraceProbe
    TraceProbe --&gt; ProbeArgs
    TraceProbe --&gt; TraceEvent
    Kprobe --&gt; Attach_Kprobe_Handler
    Uprobe --&gt; Attach_Uprobe_Handler
    Fprobe --&gt; Attach_Fprobe_Handler</code></pre>
<strong>Diagram: Dynamic Probe Types and Architecture</strong></p>
<p>All probe types share common infrastructure through <code>struct trace_probe</code> but differ in attachment mechanism:</p>
<ul>
<li><strong>kprobes</strong>: Use breakpoint or jump-based probing at kernel addresses</li>
<li><strong>uprobes</strong>: Use breakpoint injection in user-space program text</li>
<li><strong>fprobes</strong>: Leverage ftrace infrastructure for function entry/exit tracing</li>
</ul>
<p>Sources: <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_kprobe.c#L1-L100">kernel/trace/trace_kprobe.c1-100</a> <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_uprobe.c#L1-L100">kernel/trace/trace_uprobe.c1-100</a> <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_fprobe.c#L1-L100">kernel/trace/trace_fprobe.c1-100</a></p>
<h3 id="probe-event-creation-and-arguments">Probe Event Creation and Arguments<a class="headerlink" href="#probe-event-creation-and-arguments" title="Permanent link">&para;</a></h3>
<p>Dynamic probes support flexible argument capture using fetch methods:</p>
<table>
<thead>
<tr>
<th>Fetch Type</th>
<th>Syntax</th>
<th>Description</th>
<th>Implementation</th>
</tr>
</thead>
<tbody>
<tr>
<td>Register</td>
<td><code>%ax</code>, <code>%di</code></td>
<td>CPU register value</td>
<td><code>FETCH_OP_ARG</code></td>
</tr>
<tr>
<td>Memory</td>
<td><code>+0(%di)</code></td>
<td>Dereference address</td>
<td><code>FETCH_OP_DEREF</code></td>
</tr>
<tr>
<td>Stack</td>
<td><code>$stack0</code></td>
<td>Stack argument</td>
<td><code>FETCH_OP_STACK</code></td>
</tr>
<tr>
<td>Return value</td>
<td><code>$retval</code></td>
<td>Function return</td>
<td><code>FETCH_OP_RETVAL</code></td>
</tr>
<tr>
<td>Symbol</td>
<td><code>$comm</code></td>
<td>Task comm string</td>
<td>Special handler</td>
</tr>
<tr>
<td>IMM</td>
<td><code>\1234</code></td>
<td>Immediate value</td>
<td><code>FETCH_OP_IMM</code></td>
</tr>
</tbody>
</table>
<p>Probe events are created through tracefs:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a># Create kprobe event
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>echo &#39;p:myprobe do_sys_open filename=+0(%di):string flags=%si&#39; &gt; kprobe_events
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a># Create uprobe event
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>echo &#39;p:myuprobe /bin/bash:0x1234 arg1=%di&#39; &gt; uprobe_events
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a># Create fprobe event
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>echo &#39;f:myfprobe vfs_read count=%dx&#39; &gt; dynamic_events
</code></pre></div>
The fetch instruction system is defined in <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_probe.h#L100-L200">kernel/trace/trace_probe.h100-200</a> with execution in <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_kprobe.c#L800-L1000">kernel/trace/trace_kprobe.c800-1000</a></p>
<p>Sources: <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_probe.c#L1-L100">kernel/trace/trace_probe.c1-100</a> <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_probe.h#L100-L300">kernel/trace/trace_probe.h100-300</a></p>
<h3 id="fprobe-and-function-graph-integration">Fprobe and Function Graph Integration<a class="headerlink" href="#fprobe-and-function-graph-integration" title="Permanent link">&para;</a></h3>
<p>Fprobes use ftrace's function entry mechanism but add sophisticated shadow stack management for return probes:</p>
<p><pre class="mermaid"><code>flowchart TD
    FprobeStruct["struct fprobeentry_handler/exit_handler"]
    Register["register_fprobe()"]
    FgraphOps["fgraph_opsGraph callback wrapper"]
    FunctionEntry["fentry call"]
    FprobeEntry["fprobe_entry()"]
    ReserveData["fgraph_reserve_data()"]
    CallHandler["fp-&gt;entry_handler()"]
    ShadowStack["current-&gt;ret_stack[]Shadow return stack"]
    FprobeHeader["fprobe headerfp + size_words"]
    EntryData["Entry dataUser-defined"]
    FunctionReturn["Function returns"]
    FprobeExit["fprobe_exit()"]
    RetrieveData["fgraph_retrieve_data()"]
    CallExitHandler["fp-&gt;exit_handler()"]

    FunctionEntry --&gt; FprobeEntry
    FprobeEntry --&gt; ReserveData
    ReserveData --&gt; ShadowStack
    ReserveData --&gt; FprobeHeader
    ReserveData --&gt; EntryData
    FprobeEntry --&gt; CallHandler
    FunctionReturn --&gt; FprobeExit
    FprobeExit --&gt; RetrieveData
    RetrieveData --&gt; ShadowStack
    FprobeExit --&gt; CallExitHandler
    FprobeStruct --&gt; Register
    Register --&gt; FgraphOps</code></pre>
<strong>Diagram: Fprobe Shadow Stack Management</strong></p>
<p>Fprobes integrate with the function graph tracer's shadow stack to track return addresses and store per-invocation data. This enables correlation of function entry and exit events with associated data.</p>
<p>Sources: <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/fprobe.c#L160-L238">kernel/trace/fprobe.c160-238</a> <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/fgraph.c#L1-L200">kernel/trace/fgraph.c1-200</a></p>
<h2 id="function-graph-tracer">Function Graph Tracer<a class="headerlink" href="#function-graph-tracer" title="Permanent link">&para;</a></h2>
<p>The function graph tracer provides call/return tracing with timing information, creating a visual representation of kernel execution flow.</p>
<h3 id="function-graph-infrastructure">Function Graph Infrastructure<a class="headerlink" href="#function-graph-infrastructure" title="Permanent link">&para;</a></h3>
<p><pre class="mermaid"><code>flowchart TD
    FgraphOps["struct fgraph_opsentryfunc/retfunc"]
    GraphIdx["idx: array index"]
    Private["private: user data"]
    RetStack["task-&gt;ret_stack[]4KB shadow stack"]
    RetStackEntry["struct ftrace_ret_stackfunc/ret_addr/calltime"]
    CurrRetStack["curr_ret_stackStack pointer"]
    GraphEnter["function_graph_enter()"]
    SaveReturn["Save return address"]
    ReplaceReturn["Replace with return_to_handler"]
    CallEntry["gops-&gt;entryfunc()"]
    ReturnHandler["ftrace_return_to_handler()"]
    RestoreReturn["Restore original return"]
    CallRet["gops-&gt;retfunc()"]
    ReturnToCaller["Return to caller"]

    FgraphOps --&gt; GraphIdx
    FgraphOps --&gt; Private
    FgraphOps --&gt; GraphEnter
    FgraphOps --&gt; ReturnHandler
    GraphEnter --&gt; SaveReturn
    SaveReturn --&gt; RetStack
    RetStack --&gt; RetStackEntry
    RetStack --&gt; CurrRetStack
    SaveReturn --&gt; ReplaceReturn
    GraphEnter --&gt; CallEntry
    ReturnHandler --&gt; RestoreReturn
    RestoreReturn --&gt; RetStack
    ReturnHandler --&gt; CallRet
    CallRet --&gt; ReturnToCaller</code></pre>
<strong>Diagram: Function Graph Tracer Architecture</strong></p>
<p>The function graph tracer operates by hijacking function return addresses:</p>
<ol>
<li><strong>Entry</strong>: Saves real return address, replaces with <code>return_to_handler</code></li>
<li><strong>Shadow Stack</strong>: Maintains per-task stack of <code>ftrace_ret_stack</code> entries</li>
<li><strong>Exit</strong>: <code>return_to_handler</code> restores real return address and invokes callback</li>
<li><strong>Multiple Ops</strong>: Supports multiple concurrent graph operations via array indexing</li>
</ol>
<p>Sources: <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/fgraph.c#L1-L300">kernel/trace/fgraph.c1-300</a> <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_functions_graph.c#L1-L100">kernel/trace/trace_functions_graph.c1-100</a></p>
<h3 id="function-graph-data-structures">Function Graph Data Structures<a class="headerlink" href="#function-graph-data-structures" title="Permanent link">&para;</a></h3>
<p>The shadow stack implementation uses careful memory layout for efficiency:</p>
<table>
<thead>
<tr>
<th>Structure</th>
<th>Size</th>
<th>Purpose</th>
<th>Key Fields</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ftrace_ret_stack</code></td>
<td>32 bytes</td>
<td>Return stack entry</td>
<td><code>ret</code> (return addr), <code>func</code> (function), <code>calltime</code></td>
</tr>
<tr>
<td>Shadow stack</td>
<td>4096 bytes</td>
<td>Per-task storage</td>
<td><code>task-&gt;ret_stack[]</code> array</td>
</tr>
<tr>
<td>Bitmap header</td>
<td>1 word</td>
<td>Entry metadata</td>
<td>Type, offset, index bitmap</td>
</tr>
<tr>
<td>Reserved data</td>
<td>Variable</td>
<td>Per-call data</td>
<td>Stored after entry, indexed by <code>gops-&gt;idx</code></td>
</tr>
</tbody>
</table>
<p>The shadow stack format is documented extensively in <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/fgraph.c#L22-L99">kernel/trace/fgraph.c22-99</a> Each entry uses a bitmap to track which <code>fgraph_ops</code> want their return function called, and additional words can store per-call data.</p>
<p>Sources: <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/fgraph.c#L22-L170">kernel/trace/fgraph.c22-170</a> <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/fgraph.c#L100-L200">kernel/trace/fgraph.c100-200</a></p>
<h3 id="graph-tracer-output-format">Graph Tracer Output Format<a class="headerlink" href="#graph-tracer-output-format" title="Permanent link">&para;</a></h3>
<p>The function graph tracer produces hierarchical output showing call flow:</p>
<p><pre class="mermaid"><code>flowchart TD
    GraphEnt["ftrace_graph_ent_entry"]
    EntFunc["graph_ent.func"]
    EntDepth["graph_ent.depth"]
    GraphRet["ftrace_graph_ret_entry"]
    RetFunc["ret.func"]
    RetDepth["ret.depth"]
    Calltime["calltime: u64"]
    Rettime["rettime: u64"]
    Duration["Duration: rettime - calltime"]
    Indent["Indentation: depth * 2 spaces"]
    FuncName["Function name"]
    OutputLine["Output: duration | indent | func"]

    GraphEnt --&gt; EntFunc
    GraphEnt --&gt; EntDepth
    GraphRet --&gt; RetFunc
    GraphRet --&gt; RetDepth
    GraphRet --&gt; Calltime
    GraphRet --&gt; Rettime
    Calltime --&gt; Duration
    Rettime --&gt; Duration
    EntDepth --&gt; Indent
    Duration --&gt; OutputLine
    Indent --&gt; OutputLine
    FuncName --&gt; OutputLine</code></pre>
<strong>Diagram: Function Graph Tracer Output Generation</strong></p>
<p>The tracer records both entry and return events, then formats them into a hierarchical display with timing information. Example output:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a> 0)               |  do_sys_open() {
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a> 0)   0.123 us    |    getname();
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a> 0)   0.456 us    |    path_lookup();
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a> 0)   1.234 us    |  }
</code></pre></div>
Sources: <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_functions_graph.c#L100-L500">kernel/trace/trace_functions_graph.c100-500</a></p>
<h2 id="histogram-triggers">Histogram Triggers<a class="headerlink" href="#histogram-triggers" title="Permanent link">&para;</a></h2>
<p>Histogram triggers provide powerful in-kernel aggregation and analysis of trace event data.</p>
<h3 id="histogram-architecture">Histogram Architecture<a class="headerlink" href="#histogram-architecture" title="Permanent link">&para;</a></h3>
<p><pre class="mermaid"><code>flowchart TD
    HistTrigger["event_trigger_dataHistogram trigger"]
    HistData["hist_trigger_dataHistogram state"]
    HistAttrs["hist_trigger_attrsParsed attributes"]
    Keys["keys[]Grouping fields"]
    HistField["struct hist_fieldField descriptor"]
    FieldFn["fn: hist_field_fn_tValue extraction"]
    Vals["vals[]Aggregated values"]
    ValType["Type: counter/sum/avg"]
    ValOps["Operations: +/-/*/÷"]
    TracingMap["tracing_mapHash table"]
    MapElt["tracing_map_eltHistogram entry"]
    KeyVal["key + values[]"]
    OnMax["onmax/onchangeConditional actions"]
    SaveAction["save() actionVariable save"]
    SnapshotAction["snapshot() actionBuffer snapshot"]

    HistTrigger --&gt; HistData
    HistData --&gt; HistAttrs
    HistAttrs --&gt; Keys
    HistAttrs --&gt; Vals
    Keys --&gt; HistField
    HistField --&gt; FieldFn
    Vals --&gt; ValType
    Vals --&gt; ValOps
    HistData --&gt; TracingMap
    TracingMap --&gt; MapElt
    MapElt --&gt; KeyVal
    HistData --&gt; OnMax
    OnMax --&gt; SaveAction
    OnMax --&gt; SnapshotAction</code></pre>
<strong>Diagram: Histogram Trigger Components</strong></p>
<p>Histogram triggers transform event streams into aggregated statistics:</p>
<ul>
<li><strong>Keys</strong>: Define grouping (e.g., by pid, cpu, function name)</li>
<li><strong>Values</strong>: Accumulate data (counts, sums, averages)</li>
<li><strong>Tracing Map</strong>: Efficient hash table for histogram storage</li>
<li><strong>Actions</strong>: Conditional operations (snapshot on max, save variables)</li>
</ul>
<p>Sources: <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_events_hist.c#L1-L300">kernel/trace/trace_events_hist.c1-300</a> <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/tracing_map.h">kernel/trace/tracing_map.h</a></p>
<h3 id="histogram-trigger-syntax">Histogram Trigger Syntax<a class="headerlink" href="#histogram-trigger-syntax" title="Permanent link">&para;</a></h3>
<p>Histograms are created via tracefs with rich syntax:</p>
<table>
<thead>
<tr>
<th>Component</th>
<th>Syntax</th>
<th>Example</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Keys</td>
<td><code>keys=field1,field2</code></td>
<td><code>keys=pid,cpu</code></td>
<td>Group by these fields</td>
</tr>
<tr>
<td>Values</td>
<td><code>vals=field:op</code></td>
<td><code>vals=bytes:sum</code></td>
<td>Aggregate with operation</td>
</tr>
<tr>
<td>Sort</td>
<td><code>sort=key:order</code></td>
<td><code>sort=hitcount:desc</code></td>
<td>Sort histogram output</td>
</tr>
<tr>
<td>Size</td>
<td><code>size=N</code></td>
<td><code>size=2048</code></td>
<td>Hash table size</td>
</tr>
<tr>
<td>Actions</td>
<td><code>onmax($var).action</code></td>
<td><code>onmax($lat).snapshot()</code></td>
<td>Trigger on condition</td>
</tr>
</tbody>
</table>
<p>Example histogram command:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>echo &#39;hist:keys=pid:vals=bytes:sort=bytes:size=2048&#39; &gt; events/syscalls/sys_enter_read/trigger
</code></pre></div>
Advanced features include:</p>
<ul>
<li><strong>Variable References</strong>: <code>$var</code>, <code>$var.field</code> for inter-event correlation</li>
<li><strong>Arithmetic</strong>: <code>bytes/time</code> for calculated values</li>
<li><strong>Actions</strong>: <code>snapshot()</code>, <code>save()</code>, synthetic event generation</li>
<li><strong>Filters</strong>: Combine with event filters for selective aggregation</li>
</ul>
<p>Sources: <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_events_hist.c#L4000-L5000">kernel/trace/trace_events_hist.c4000-5000</a></p>
<h3 id="histogram-tracing-map-implementation">Histogram Tracing Map Implementation<a class="headerlink" href="#histogram-tracing-map-implementation" title="Permanent link">&para;</a></h3>
<p>The <code>tracing_map</code> provides efficient hash-based storage for histogram data:</p>
<p><pre class="mermaid"><code>flowchart TD
    TM_map["tracing_mapMap descriptor"]
    TM_ops["map_opsOperations"]
    TM_array["arraytracing_map_array[]"]
    TMA_entries["entries[]Per-CPU hash array"]
    TMA_n_entries["n_entriesArray size"]
    ELT_key["key[]Key values"]
    ELT_val["val[]Aggregated values"]
    ELT_var["var[]Variable storage"]
    Lookup["tracing_map_lookup()"]
    Insert["tracing_map_insert()"]
    Update["Update values"]

    TM --&gt; map_TM_ops
    TM --&gt; map_TM_array
    TM --&gt; array_TMA_entries
    TMA --&gt; entries_ELT_key
    ELT --&gt; key_ELT_val
    ELT --&gt; val_ELT_var
    Lookup --&gt; TMA_entries
    Insert --&gt; TMA_entries
    Update --&gt; ELT_val</code></pre>
<strong>Diagram: Tracing Map Data Structure</strong></p>
<p>The tracing map uses per-CPU hash tables to minimize lock contention:</p>
<ul>
<li><strong>Hash Function</strong>: Maps key tuple to array index</li>
<li><strong>Per-CPU Design</strong>: Each CPU maintains its own map array</li>
<li><strong>Lockless Updates</strong>: Values updated atomically per CPU</li>
<li><strong>Aggregation</strong>: Results merged when reading histogram</li>
</ul>
<p>This design allows high-frequency event aggregation with minimal overhead.</p>
<p>Sources: <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/tracing_map.c">kernel/trace/tracing_map.c</a> <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/tracing_map.h">kernel/trace/tracing_map.h</a></p>
<h2 id="tracefs-interface">Tracefs Interface<a class="headerlink" href="#tracefs-interface" title="Permanent link">&para;</a></h2>
<p>The tracefs filesystem provides the primary user-space interface to the tracing infrastructure.</p>
<h3 id="tracefs-file-hierarchy">Tracefs File Hierarchy<a class="headerlink" href="#tracefs-file-hierarchy" title="Permanent link">&para;</a></h3>
<p><pre class="mermaid"><code>flowchart TD
    Root["tracing/ root"]
    TracingOn["tracing_onEnable/disable"]
    CurrentTracer["current_tracerSelect tracer"]
    TraceOptions["trace_optionsTracer flags"]
    BufferSize["buffer_size_kbRing buffer size"]
    Trace["traceFormatted output"]
    TracePipe["trace_pipeConsuming read"]
    RawTrace["trace_rawBinary output"]
    PerCPUTrace["per_cpu/cpu*/trace"]
    EventsDir["events/Event directory"]
    SystemDir["/Subsystem events"]
    EventEnable["/enable"]
    EventFormat["/format"]
    EventFilter["/filter"]
    EventTrigger["/trigger"]
    KprobeEvents["kprobe_eventskprobe definitions"]
    UprobeEvents["uprobe_eventsuprobe definitions"]
    DynamicEvents["dynamic_eventsfprobe/eprobe"]
    AvailFilterFuncs["available_filter_functions"]
    SetFtraceFilter["set_ftrace_filter"]
    SetFtraceNotrace["set_ftrace_notrace"]
    SetFtracePid["set_ftrace_pid"]

    Root --&gt; TracingOn
    Root --&gt; CurrentTracer
    Root --&gt; TraceOptions
    Root --&gt; BufferSize
    Root --&gt; Trace
    Root --&gt; TracePipe
    Root --&gt; RawTrace
    Root --&gt; PerCPUTrace
    Root --&gt; EventsDir
    Root --&gt; KprobeEvents
    Root --&gt; UprobeEvents
    Root --&gt; DynamicEvents
    Root --&gt; AvailFilterFuncs
    Root --&gt; SetFtraceFilter
    Root --&gt; SetFtraceNotrace
    Root --&gt; SetFtracePid
    EventsDir --&gt; SystemDir
    SystemDir --&gt; EventEnable
    SystemDir --&gt; EventFormat
    SystemDir --&gt; EventFilter
    SystemDir --&gt; EventTrigger</code></pre>
<strong>Diagram: Tracefs Filesystem Structure</strong></p>
<p>The tracefs hierarchy organizes tracing control and output:</p>
<ul>
<li><strong>Control Files</strong>: Enable/disable tracing, select tracer, configure options</li>
<li><strong>Output Files</strong>: Read trace data in various formats</li>
<li><strong>Event Control</strong>: Per-event enable, format, filter, trigger</li>
<li><strong>Dynamic Events</strong>: Create/delete dynamic probes</li>
<li><strong>Function Tracing</strong>: Filter which functions to trace</li>
</ul>
<p>Sources: <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace.c#L1-L500">kernel/trace/trace.c1-500</a> <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_events.c#L1-L500">kernel/trace/trace_events.c1-500</a></p>
<h3 id="common-tracefs-operations">Common Tracefs Operations<a class="headerlink" href="#common-tracefs-operations" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Operation</th>
<th>File Path</th>
<th>Example</th>
<th>Effect</th>
</tr>
</thead>
<tbody>
<tr>
<td>Enable tracing</td>
<td><code>tracing_on</code></td>
<td><code>echo 1 &gt; tracing_on</code></td>
<td>Start recording events</td>
</tr>
<tr>
<td>Select tracer</td>
<td><code>current_tracer</code></td>
<td><code>echo function_graph &gt; current_tracer</code></td>
<td>Switch to graph tracer</td>
</tr>
<tr>
<td>Enable event</td>
<td><code>events/sched/sched_switch/enable</code></td>
<td><code>echo 1 &gt; enable</code></td>
<td>Enable sched_switch event</td>
</tr>
<tr>
<td>Set filter</td>
<td><code>events/sched/sched_switch/filter</code></td>
<td><code>echo 'pid == 1234' &gt; filter</code></td>
<td>Filter by condition</td>
</tr>
<tr>
<td>Create kprobe</td>
<td><code>kprobe_events</code></td>
<td><code>echo 'p:probe1 vfs_read' &gt;&gt; kprobe_events</code></td>
<td>Add kprobe</td>
</tr>
<tr>
<td>Read trace</td>
<td><code>trace</code></td>
<td><code>cat trace</code></td>
<td>Read formatted trace</td>
</tr>
<tr>
<td>Stream trace</td>
<td><code>trace_pipe</code></td>
<td><code>cat trace_pipe</code></td>
<td>Blocking trace read</td>
</tr>
<tr>
<td>Set func filter</td>
<td><code>set_ftrace_filter</code></td>
<td><code>echo 'vfs_*' &gt; set_ftrace_filter</code></td>
<td>Trace vfs_* functions</td>
</tr>
</tbody>
</table>
<p>The interface is designed for both interactive use and programmatic control through simple file operations.</p>
<p>Sources: <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace.c#L5000-L7000">kernel/trace/trace.c5000-7000</a></p>
<h2 id="tracer-plugins">Tracer Plugins<a class="headerlink" href="#tracer-plugins" title="Permanent link">&para;</a></h2>
<p>The tracing infrastructure supports pluggable tracers through the <code>struct tracer</code> interface.</p>
<h3 id="tracer-plugin-interface">Tracer Plugin Interface<a class="headerlink" href="#tracer-plugin-interface" title="Permanent link">&para;</a></h3>
<p><pre class="mermaid"><code>flowchart TD
    Name["name: const char*"]
    Init["init: int (*)(tr)"]
    Start["start: void (*)(tr)"]
    Stop["stop: void (*)(tr)"]
    Update["update_thresh: int (*)(tr)"]
    PrintLine["print_line: enum (*)"]
    Flags["flags: tracer_flags*"]
    NopTracer["nopNo-op tracer"]
    FunctionTracer["functionFunction tracer"]
    FunctionGraphTracer["function_graphCall graph tracer"]
    IrqsoffTracer["irqsoffIRQ latency"]
    PreemptoffTracer["preemptoffPreemption latency"]
    WakeupTracer["wakeupWakeup latency"]
    RegisterTracer["register_tracer()"]
    TracersList["trace_types list"]
    CurrentTracer["tr-&gt;current_trace"]

    Name --&gt; RegisterTracer
    Init --&gt; RegisterTracer
    Start --&gt; RegisterTracer
    Stop --&gt; RegisterTracer
    Update --&gt; RegisterTracer
    PrintLine --&gt; RegisterTracer
    Flags --&gt; RegisterTracer
    RegisterTracer --&gt; TracersList
    TracersList --&gt; CurrentTracer
    NopTracer --&gt; TracersList
    FunctionTracer --&gt; TracersList
    FunctionGraphTracer --&gt; TracersList
    IrqsoffTracer --&gt; TracersList
    PreemptoffTracer --&gt; TracersList
    WakeupTracer --&gt; TracersList</code></pre>
<strong>Diagram: Tracer Plugin Architecture</strong></p>
<p>Tracers implement a standard interface:</p>
<ul>
<li><strong>Lifecycle</strong>: <code>init()</code>, <code>start()</code>, <code>stop()</code> control tracer state</li>
<li><strong>Output</strong>: <code>print_line()</code> formats trace output</li>
<li><strong>Configuration</strong>: <code>tracer_flags</code> for per-tracer options</li>
<li><strong>Registration</strong>: Added to global list, selectable via <code>current_tracer</code></li>
</ul>
<p>Sources: <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace.h#L610-L650">kernel/trace/trace.h610-650</a> <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace.c#L946-L952">kernel/trace/trace.c946-952</a></p>
<h3 id="latency-tracers">Latency Tracers<a class="headerlink" href="#latency-tracers" title="Permanent link">&para;</a></h3>
<p>Latency tracers measure maximum latencies for specific events:</p>
<table>
<thead>
<tr>
<th>Tracer</th>
<th>Purpose</th>
<th>Measures</th>
<th>Implementation</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>irqsoff</code></td>
<td>IRQ disable latency</td>
<td>Time with IRQs disabled</td>
<td><a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_irqsoff.c">kernel/trace/trace_irqsoff.c</a></td>
</tr>
<tr>
<td><code>preemptoff</code></td>
<td>Preemption latency</td>
<td>Time with preemption disabled</td>
<td><a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_irqsoff.c">kernel/trace/trace_irqsoff.c</a></td>
</tr>
<tr>
<td><code>preemptirqsoff</code></td>
<td>Combined latency</td>
<td>IRQ or preempt disabled</td>
<td><a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_irqsoff.c">kernel/trace/trace_irqsoff.c</a></td>
</tr>
<tr>
<td><code>wakeup</code></td>
<td>Wakeup latency</td>
<td>Time from wakeup to schedule</td>
<td><a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_sched_wakeup.c">kernel/trace/trace_sched_wakeup.c</a></td>
</tr>
<tr>
<td><code>wakeup_rt</code></td>
<td>RT wakeup latency</td>
<td>RT task wakeup latency</td>
<td><a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_sched_wakeup.c">kernel/trace/trace_sched_wakeup.c</a></td>
</tr>
</tbody>
</table>
<p>These tracers use the snapshot buffer to capture the longest latency period:</p>
<ol>
<li>Trace function calls continuously</li>
<li>Detect start of latency period (e.g., IRQs disabled)</li>
<li>When period ends, compare duration to maximum</li>
<li>If new maximum, snapshot trace buffer</li>
<li>Report maximum latency and backtrace</li>
</ol>
<p>Sources: <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_irqsoff.c#L1-L100">kernel/trace/trace_irqsoff.c1-100</a> <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_sched_wakeup.c#L1-L100">kernel/trace/trace_sched_wakeup.c1-100</a></p>
<h2 id="performance-considerations">Performance Considerations<a class="headerlink" href="#performance-considerations" title="Permanent link">&para;</a></h2>
<p>The tracing infrastructure is designed for minimal overhead when enabled and zero overhead when disabled.</p>
<h3 id="overhead-mitigation-techniques">Overhead Mitigation Techniques<a class="headerlink" href="#overhead-mitigation-techniques" title="Permanent link">&para;</a></h3>
<p><pre class="mermaid"><code>flowchart TD
    DynamicPatch["Dynamic code patchingNOP when disabled"]
    StaticKeys["Static keysBranch elimination"]
    PerCPUDisable["Per-CPU disableNo synchronization"]
    LockFreeRing["Lock-free ring bufferPer-CPU design"]
    InlineCode["Inline fast pathsMinimal function calls"]
    BulkOps["Batch operationsReduce per-event cost"]
    FunctionFilter["Function filteringHash tables"]
    PIDFilter["PID filteringBitmap lookup"]
    EventFilter["Event filteringCompiled predicates"]
    BufferSize["Configurable buffer sizeTrade memory for history"]
    PerCPUBuffer["Per-CPU buffersNo cross-CPU traffic"]
    RingOverwrite["Ring overwrite modeLatest data preserved"]

    DynamicPatch --&gt; LockFreeRing
    StaticKeys --&gt; LockFreeRing
    PerCPUDisable --&gt; LockFreeRing
    LockFreeRing --&gt; FunctionFilter
    InlineCode --&gt; FunctionFilter
    BulkOps --&gt; FunctionFilter
    FunctionFilter --&gt; BufferSize
    PIDFilter --&gt; BufferSize
    EventFilter --&gt; BufferSize</code></pre>
<strong>Diagram: Performance Optimization Strategies</strong></p>
<p>Key performance techniques:</p>
<ul>
<li><strong>Dynamic Patching</strong>: Function calls replaced with NOPs when tracing disabled</li>
<li><strong>Static Keys</strong>: Branch prediction eliminated for disabled features</li>
<li><strong>Lock-Free Ring Buffer</strong>: Per-CPU design eliminates locking overhead</li>
<li><strong>Filtering</strong>: Early filtering prevents unnecessary data capture</li>
<li><strong>Per-CPU Architecture</strong>: Eliminates cache-line bouncing and synchronization</li>
</ul>
<p>Sources: <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/ring_buffer.c#L1-L500">kernel/trace/ring_buffer.c1-500</a> <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/ftrace.c#L1-L500">kernel/trace/ftrace.c1-500</a></p>
<h3 id="buffer-management">Buffer Management<a class="headerlink" href="#buffer-management" title="Permanent link">&para;</a></h3>
<p>The ring buffer uses sophisticated page management for efficiency:</p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Implementation</th>
<th>Benefit</th>
</tr>
</thead>
<tbody>
<tr>
<td>Per-CPU buffers</td>
<td>Separate buffer per CPU</td>
<td>No cross-CPU synchronization</td>
</tr>
<tr>
<td>Lock-free writes</td>
<td>Atomic operations</td>
<td>Minimal writer overhead</td>
</tr>
<tr>
<td>Reader page swap</td>
<td>Dedicated reader page</td>
<td>Writers never blocked by readers</td>
</tr>
<tr>
<td>Overwrite mode</td>
<td>Ring wraps, drops old</td>
<td>Always has recent data</td>
</tr>
<tr>
<td>Non-overwrite mode</td>
<td>Stops when full</td>
<td>Preserves all data</td>
</tr>
<tr>
<td>Variable page size</td>
<td>Configurable pages</td>
<td>Memory/history tradeoff</td>
</tr>
</tbody>
</table>
<p>The buffer automatically expands from a small default size <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace.c#L942-L942">kernel/trace/trace.c942</a> when tracing starts, reducing memory usage when tracing is disabled.</p>
<p>Sources: <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/ring_buffer.c#L88-L154">kernel/trace/ring_buffer.c88-154</a> <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace.c#L932-L944">kernel/trace/trace.c932-944</a></p>
<h2 id="integration-with-other-subsystems">Integration with Other Subsystems<a class="headerlink" href="#integration-with-other-subsystems" title="Permanent link">&para;</a></h2>
<p>The tracing infrastructure integrates deeply with other kernel subsystems.</p>
<h3 id="scheduler-integration">Scheduler Integration<a class="headerlink" href="#scheduler-integration" title="Permanent link">&para;</a></h3>
<p>The scheduler uses trace events extensively for performance analysis:</p>
<p><pre class="mermaid"><code>flowchart TD
    SchedSwitch["sched_switchContext switch"]
    SchedWakeup["sched_wakeupTask wakeup"]
    SchedMigrate["sched_migrate_taskCPU migration"]
    WakeupTracer["wakeup tracerWakeup latency"]
    PreemptTracer["preemptoff tracerPreemption latency"]
    HistLatency["Histogram: wakeup latencyby comm"]
    HistRuntime["Histogram: runtimeby pid"]

    SchedSwitch --&gt; WakeupTracer
    SchedWakeup --&gt; WakeupTracer
    SchedSwitch --&gt; PreemptTracer
    SchedSwitch --&gt; HistLatency
    SchedWakeup --&gt; HistLatency
    SchedSwitch --&gt; HistRuntime</code></pre>
<strong>Diagram: Scheduler Tracing Integration</strong></p>
<p>Scheduler events enable:</p>
<ul>
<li>Latency measurement (wakeup, preemption, IRQ)</li>
<li>Performance profiling (runtime distribution, migration patterns)</li>
<li>Behavioral analysis (task interactions, scheduling decisions)</li>
</ul>
<p>For information on scheduler internals, see <a href="/torvalds/linux/4.1-process-scheduling-and-sched_ext">Process Scheduling and sched_ext</a>.</p>
<p>Sources: <a href="https://github.com/torvalds/linux/blob/fcb70a56/include/trace/events/sched.h">include/trace/events/sched.h</a> <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_sched_wakeup.c">kernel/trace/trace_sched_wakeup.c</a></p>
<h3 id="bpf-integration">BPF Integration<a class="headerlink" href="#bpf-integration" title="Permanent link">&para;</a></h3>
<p>BPF programs can access tracing infrastructure:</p>
<table>
<thead>
<tr>
<th>Integration Point</th>
<th>Description</th>
<th>Use Case</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>bpf_trace_printk()</code></td>
<td>Print to trace buffer</td>
<td>Debug output from BPF</td>
</tr>
<tr>
<td>Kprobe BPF</td>
<td>Attach BPF to kprobes</td>
<td>Dynamic instrumentation</td>
</tr>
<tr>
<td>Tracepoint BPF</td>
<td>Attach BPF to events</td>
<td>Event-driven programs</td>
</tr>
<tr>
<td>Fentry/Fexit</td>
<td>Direct function tracing</td>
<td>Low-overhead tracing</td>
</tr>
</tbody>
</table>
<p>BPF programs can both produce trace data and consume it for decision-making.</p>
<p>Sources: <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_kprobe.c">kernel/trace/trace_kprobe.c</a> <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/bpf_trace.c">kernel/trace/bpf_trace.c</a></p>
<h3 id="synthetic-events">Synthetic Events<a class="headerlink" href="#synthetic-events" title="Permanent link">&para;</a></h3>
<p>Synthetic events allow creation of custom events from existing trace data:</p>
<p><pre class="mermaid"><code>flowchart TD
    Event1["sys_enter_readfd, count"]
    Event2["sys_exit_readret"]
    OnEnter["onmatch(enter)save(fd, count)"]
    OnExit["onmatch(exit)generate synthetic"]
    SynthEvent["read_latencyfd, count, ret, latency"]
    SynthData["Computed fieldslatency = exit.time - enter.time"]

    Event1 --&gt; OnEnter
    Event2 --&gt; OnExit
    OnEnter --&gt; SynthEvent
    OnExit --&gt; SynthEvent
    SynthData --&gt; SynthEvent</code></pre>
<strong>Diagram: Synthetic Event Creation</strong></p>
<p>Synthetic events correlate data across multiple events, enabling complex analysis:</p>
<ul>
<li>Match events by common fields</li>
<li>Save variables from earlier events</li>
<li>Generate new events with computed fields</li>
<li>Enable histogram analysis of derived metrics</li>
</ul>
<p>Sources: <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_events_synth.c#L1-L500">kernel/trace/trace_events_synth.c1-500</a> <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_events_hist.c#L4000-L5000">kernel/trace/trace_events_hist.c4000-5000</a></p>
<h2 id="summary">Summary<a class="headerlink" href="#summary" title="Permanent link">&para;</a></h2>
<p>The Linux kernel tracing infrastructure provides a comprehensive, low-overhead system for observing kernel behavior. Key components include:</p>
<ul>
<li><strong>Ring Buffer</strong>: Lock-free per-CPU circular buffers for efficient data storage</li>
<li><strong>Ftrace</strong>: Function-level tracing with dynamic patching and filtering</li>
<li><strong>Trace Events</strong>: Static tracepoints with rich formatting and filtering</li>
<li><strong>Dynamic Probes</strong>: Runtime instrumentation via kprobes, uprobes, and fprobes</li>
<li><strong>Function Graph</strong>: Call/return tracing with timing and hierarchy</li>
<li><strong>Histogram Triggers</strong>: In-kernel aggregation and analysis</li>
<li><strong>Tracefs Interface</strong>: User-space control via filesystem operations</li>
</ul>
<p>This infrastructure enables performance analysis, debugging, and behavioral understanding of the kernel with minimal runtime overhead.</p>
<p>Sources: <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace.c">kernel/trace/trace.c</a> <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/ftrace.c">kernel/trace/ftrace.c</a> <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/ring_buffer.c">kernel/trace/ring_buffer.c</a> <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_events.c">kernel/trace/trace_events.c</a> <a href="https://github.com/torvalds/linux/blob/fcb70a56/kernel/trace/trace_events_hist.c">kernel/trace/trace_events_hist.c</a></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.tabs", "navigation.sections", "navigation.top", "search.suggest", "search.highlight", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>