# Build System

Relevant source files

-   [AUTHORS](https://github.com/official-stockfish/Stockfish/blob/c27c1747/AUTHORS)
-   [src/Makefile](https://github.com/official-stockfish/Stockfish/blob/c27c1747/src/Makefile)

## Purpose and Scope

This document describes the Stockfish build system, which is implemented as a GNU Makefile located at [src/Makefile](https://github.com/official-stockfish/Stockfish/blob/c27c1747/src/Makefile) The build system is responsible for compiling the engine with appropriate architecture-specific optimizations, managing profile-guided optimization (PGO), downloading neural network files, and supporting multiple compilers and platforms. For information about the network files themselves, see [NNUE Neural Network Evaluation](/official-stockfish/Stockfish/5.1-nnue-neural-network-evaluation). For information about testing and benchmarking after building, see [Testing and Benchmarking](/official-stockfish/Stockfish/7.3-testing-and-benchmarking).

## Build System Architecture

The build system is structured in five main sections within [src/Makefile18-1147](https://github.com/official-stockfish/Stockfish/blob/c27c1747/src/Makefile#L18-L1147):

```mermaid
flowchart TD
    User["User Invocationmake -j profile-build ARCH=x86-64-avx2"]
    Section1["Section 1: General Configuration(lines 18-73)OS detection, executable name"]
    Section2["Section 2: High-level Configuration(lines 74-415)Architecture defaults, ARCH parsing"]
    Section3["Section 3: Low-level Configuration(lines 417-876)Compiler flags, SIMD, LTO"]
    Section4["Section 4: Public Targets(lines 878-1015)build, profile-build, net, clean"]
    Section5["Section 5: Private Targets(lines 1020-1147)Compiler-specific PGO, linking"]
    Binary["stockfish or stockfish.exe"]

    User --> Section1
    Section1 --> Section2
    Section2 --> Section3
    Section3 --> Section4
    Section4 --> Section5
    Section5 --> Binary
```
Sources: [src/Makefile18-1147](https://github.com/official-stockfish/Stockfish/blob/c27c1747/src/Makefile#L18-L1147)

## Architecture Selection

The build system supports a wide range of CPU architectures through the `ARCH` parameter. If not specified, `ARCH` defaults to `native`, which auto-detects the host CPU capabilities using [../scripts/get\_native\_properties.sh](https://github.com/official-stockfish/Stockfish/blob/c27c1747/../scripts/get_native_properties.sh)

### Architecture Detection and Validation

```mermaid
flowchart TD
    Input["ARCH parameter(or 'native')"]
    NativeCheck["ARCH == 'native'?"]
    AutoDetect["Execute get_native_properties.shline 125"]
    Override["Use specified ARCH"]
    Validate["Validate against supported listlines 130-139"]
    ParseFlags["Parse into flagslines 175-414"]
    Flags["sse, sse2, ssse3, sse41avx2, avx512, popcntpext, neon, dotprod, etc."]

    Input --> NativeCheck
    NativeCheck --> AutoDetect
    NativeCheck --> Override
    AutoDetect --> Validate
    Override --> Validate
    Validate --> ParseFlags
    ParseFlags --> Flags
```
Sources: [src/Makefile120-414](https://github.com/official-stockfish/Stockfish/blob/c27c1747/src/Makefile#L120-L414)

### Supported Architecture Categories

| Category | Example Architectures | Key Features |
| --- | --- | --- |
| **x86-64** | `x86-64-avx512icl`, `x86-64-avx2`, `x86-64-bmi2` | SSE, AVX, VNNI, PEXT instructions |
| **x86-32** | `x86-32-sse41-popcnt`, `x86-32-sse2` | 32-bit x86 with various SIMD levels |
| **ARM** | `armv8-dotprod`, `armv7-neon`, `apple-silicon` | NEON, dot product support |
| **PowerPC** | `ppc-64-vsx`, `ppc-64-altivec` | Altivec, VSX SIMD |
| **Other** | `riscv64`, `loongarch64-lasx`, `e2k` | Various other architectures |

Sources: [src/Makefile130-414](https://github.com/official-stockfish/Stockfish/blob/c27c1747/src/Makefile#L130-L414) [src/Makefile898-930](https://github.com/official-stockfish/Stockfish/blob/c27c1747/src/Makefile#L898-L930)

### Architecture to Flags Mapping

The Makefile converts architecture specifications into compiler flags using conditional logic:

```mermaid
flowchart TD
    ARCH["ARCH = x86-64-avx512icl"]
    Check1["findstring 'x86' in ARCH?"]
    Check2["findstring 'avx512icl' in ARCH?"]
    SetFlags["Set flags:popcnt=yes sse=yes sse2=yesssse3=yes sse41=yes avx2=yespext=yes avx512=yes vnni512=yesavx512icl=yes"]
    GenCXXFLAGS["Generate CXXFLAGS:-DUSE_AVX512 -DUSE_VNNI -DUSE_AVX512ICL-mavx512f -mavx512cd -mavx512vl-mavx512dq -mavx512bw ... (more)"]

    ARCH --> Check1
    Check1 --> Check2
    Check2 --> SetFlags
    SetFlags --> GenCXXFLAGS
```
Sources: [src/Makefile283-294](https://github.com/official-stockfish/Stockfish/blob/c27c1747/src/Makefile#L283-L294) [src/Makefile736-741](https://github.com/official-stockfish/Stockfish/blob/c27c1747/src/Makefile#L736-L741)

## Compiler Configuration

The build system supports multiple compilers via the `COMP` parameter, with `gcc` as the default. The compiler can also be overridden directly using `COMPCXX`.

### Compiler Selection Flow

```mermaid
flowchart TD
    Input["COMP parameter(default: gcc)"]
    SelectComp["COMP value?"]
    GCC["comp=gccCXX=g++lines 436-463"]
    MINGW["comp=mingwCXX=x86_64-w64-mingw32-c++lines 469-486"]
    ICX["comp=icxCXX=icpxlines 488-493"]
    CLANG["comp=clangCXX=clang++lines 495-527"]
    NDK["comp=clang (NDK)CXX=*-android29-clang++lines 540-569"]
    Override["COMPCXX set?"]
    UseOverride["CXX=COMPCXXlines 572-574"]
    SetFlags["Set compiler-specific flags:CXXFLAGS, LDFLAGS"]
    DetectLLVM["Detect llvm-profdata pathlines 580-587"]

    Input --> SelectComp
    SelectComp --> GCC
    SelectComp --> MINGW
    SelectComp --> ICX
    SelectComp --> CLANG
    SelectComp --> NDK
    GCC --> Override
    MINGW --> Override
    ICX --> Override
    CLANG --> Override
    NDK --> Override
    Override --> UseOverride
    Override --> SetFlags
    UseOverride --> SetFlags
    SetFlags --> DetectLLVM
```
Sources: [src/Makefile432-587](https://github.com/official-stockfish/Stockfish/blob/c27c1747/src/Makefile#L432-L587)

### Compiler-Specific Flags

Each compiler has specific warning flags and optimization settings:

| Compiler | Key Flags |
| --- | --- |
| **gcc** | `-pedantic -Wextra -Wshadow -Wmissing-declarations -Wstack-usage=128000` |
| **clang** | `-pedantic -Wextra -Wshadow -Wmissing-prototypes -Wconditional-uninitialized` |
| **icx** | `--intel -pedantic -Wextra -Wshadow -Wmissing-prototypes -Wabi -Wdeprecated` |
| **mingw** | `-pedantic -Wextra -Wshadow -Wmissing-declarations` |

Sources: [src/Makefile439](https://github.com/official-stockfish/Stockfish/blob/c27c1747/src/Makefile#L439-L439) [src/Makefile485](https://github.com/official-stockfish/Stockfish/blob/c27c1747/src/Makefile#L485-L485) [src/Makefile491-492](https://github.com/official-stockfish/Stockfish/blob/c27c1747/src/Makefile#L491-L492) [src/Makefile502-503](https://github.com/official-stockfish/Stockfish/blob/c27c1747/src/Makefile#L502-L503)

## Build Targets

### Primary Build Targets

```mermaid
flowchart TD
    Help["helpDisplay supported archs and compilerslines 882-955"]
    Build["buildStandard build without PGOlines 968-969"]
    ProfileBuild["profile-buildPGO-optimized build (4 steps)lines 971-985"]
    Net["netDownload NNUE network fileslines 1014-1015"]
    Strip["stripStrip debug symbolslines 987-988"]
    Install["installInstall to PREFIX/binlines 990-993"]
    Clean["cleanRemove all build artifactslines 996-997"]
    ObjClean["objcleanRemove object files onlylines 1000-1001"]
    ProfileClean["profilecleanRemove PGO profile datalines 1004-1011"]
    User["User invokes make"]

    User --> Help
    User --> Build
    User --> ProfileBuild
    User --> Net
    User --> Strip
    User --> Install
    User --> Clean
```
Sources: [src/Makefile882-1015](https://github.com/official-stockfish/Stockfish/blob/c27c1747/src/Makefile#L882-L1015)

### Build Target Dependencies

The build process has several dependency chains:

```mermaid
flowchart TD
    ConfigSanity["config-sanityValidate parameterslines 1026-1092"]
    Net["netDownload networkslines 1014-1015"]
    ObjClean["objcleanClean objectslines 1000-1001"]
    Compile["Compile OBJSlines 1094-1095"]
    Link["Link EXElines 1094-1095"]
    ProfileBuild["profile-build"]

    ConfigSanity --> Net
    Net --> Compile
    Compile --> Link
    ProfileBuild --> Net
    ProfileBuild --> ConfigSanity
    ProfileBuild --> ObjClean
```
Sources: [src/Makefile968-985](https://github.com/official-stockfish/Stockfish/blob/c27c1747/src/Makefile#L968-L985) [src/Makefile1026-1092](https://github.com/official-stockfish/Stockfish/blob/c27c1747/src/Makefile#L1026-L1092)

## Profile-Guided Optimization

The `profile-build` target implements a four-step PGO workflow that significantly improves performance:

### PGO Workflow

```mermaid
flowchart TD
    Start["make profile-build ARCH=... COMP=..."]
    Step1["Step 1: Build Instrumented Executablelines 973-974"]
    Instrument["Call profile_make target(gcc-profile-make, clang-profile-make, or icx-profile-make)"]
    Step2["Step 2: Run Benchmarklines 976-978"]
    Bench["Execute PGOBENCH(./stockfish bench)lines 52, 977"]
    GenProfile["Generate profile data(.gcda, .profraw files)"]
    Step3["Step 3: Build Optimized Executablelines 980-982"]
    CleanObj["Clean object filesline 981"]
    UseProfile["Call profile_use target(gcc-profile-use, clang-profile-use, or icx-profile-use)"]
    Step4["Step 4: Clean Profile Datalines 984-985"]
    CleanProfile["Remove .gcda, .profraw, profdir/"]
    Done["Optimized stockfish binary"]

    Start --> Step1
    Step1 --> Instrument
    Instrument --> Step2
    Step2 --> Bench
    Bench --> GenProfile
    GenProfile --> Step3
    Step3 --> CleanObj
    CleanObj --> UseProfile
    UseProfile --> Step4
    Step4 --> CleanProfile
    CleanProfile --> Done
```
Sources: [src/Makefile971-985](https://github.com/official-stockfish/Stockfish/blob/c27c1747/src/Makefile#L971-L985)

### Compiler-Specific PGO Implementation

Different compilers use different PGO mechanisms:

**GCC Profile Targets** ([src/Makefile1114-1127](https://github.com/official-stockfish/Stockfish/blob/c27c1747/src/Makefile#L1114-L1127)):

-   `gcc-profile-make`: Compiles with `-fprofile-generate=profdir` and links with `-lgcov`
-   `gcc-profile-use`: Compiles with `-fprofile-use=profdir -fno-peel-loops -fno-tracer` and links with `-lgcov`

**Clang Profile Targets** ([src/Makefile1101-1112](https://github.com/official-stockfish/Stockfish/blob/c27c1747/src/Makefile#L1101-L1112)):

-   `clang-profile-make`: Compiles with `-fprofile-generate`
-   `clang-profile-use`: Merges `.profraw` files using `llvm-profdata merge`, then compiles with `-fprofile-use=stockfish.profdata`

**ICX Profile Targets** ([src/Makefile1129-1140](https://github.com/official-stockfish/Stockfish/blob/c27c1747/src/Makefile#L1129-L1140)):

-   `icx-profile-make`: Compiles with `-fprofile-instr-generate`
-   `icx-profile-use`: Merges `.profraw` files using `llvm-profdata merge`, then compiles with `-fprofile-instr-use=stockfish.profdata`

```mermaid
flowchart TD
    C1["Compile with -fprofile-generate"]
    C2["Run benchmark → *.profraw"]
    C3["llvm-profdata merge → stockfish.profdata"]
    C4["Compile with -fprofile-use=stockfish.profdata"]
    G1["Compile with -fprofile-generate=profdir"]
    G2["Run benchmark → profdir/*.gcda"]
    G3["Compile with -fprofile-use=profdir"]

    C1 --> C2
    C2 --> C3
    C3 --> C4
    G1 --> G2
    G2 --> G3
```
Sources: [src/Makefile589-611](https://github.com/official-stockfish/Stockfish/blob/c27c1747/src/Makefile#L589-L611) [src/Makefile1101-1140](https://github.com/official-stockfish/Stockfish/blob/c27c1747/src/Makefile#L1101-L1140)

## SIMD Instruction Set Configuration

The build system configures SIMD instruction sets based on the selected architecture. These are translated into both preprocessor defines and compiler flags.

### SIMD Flag Variables

The Makefile uses boolean variables to track which instruction sets are enabled:

| Variable | Preprocessor Define | Compiler Flag | Description |
| --- | --- | --- | --- |
| `sse` | N/A | `-msse` | Streaming SIMD Extensions |
| `sse2` | `-DUSE_SSE2` | `-msse2` | SSE2 instructions |
| `ssse3` | `-DUSE_SSSE3` | `-mssse3` | Supplemental SSE3 |
| `sse41` | `-DUSE_SSE41` | `-msse4.1` | SSE 4.1 instructions |
| `avx2` | `-DUSE_AVX2` | `-mavx2 -mbmi` | Advanced Vector Extensions 2 |
| `avxvnni` | `-DUSE_VNNI -DUSE_AVXVNNI` | `-mavxvnni` | AVX Vector Neural Network Instructions |
| `avx512` | `-DUSE_AVX512` | `-mavx512f -mavx512bw -mavx512dq -mavx512vl` | AVX-512 Foundation |
| `vnni512` | `-DUSE_VNNI` | `-mavx512vnni` (+ avx512 flags) | AVX-512 VNNI |
| `neon` | `-DUSE_NEON=<arm_version>` | `-mfpu=neon` (ARM32) | ARM NEON SIMD |
| `dotprod` | `-DUSE_NEON_DOTPROD` | `-march=armv8.2-a+dotprod` | ARM dot product |
| `pext` | `-DUSE_PEXT` | `-mbmi2` | Parallel bit extract |
| `popcnt` | `-DUSE_POPCNT` | `-mpopcnt` | Population count |

Sources: [src/Makefile707-817](https://github.com/official-stockfish/Stockfish/blob/c27c1747/src/Makefile#L707-L817)

### SIMD Configuration Flow

```mermaid
flowchart TD
    Arch["Architecture selected(e.g., x86-64-avx512)"]
    SetBools["Set boolean flagsavx512=yes, vnni512=yesavx2=yes, pext=yes, etc.lines 260-294"]
    CheckSIMD["Check each SIMD flag"]
    AddDefine["Add -DUSE_XXX to CXXFLAGSlines 709-737"]
    AddCompilerFlag["Add -mxxx to CXXFLAGSlines 710-808"]
    FinalFlags["Final CXXFLAGS with all SIMD flags"]

    Arch --> SetBools
    SetBools --> CheckSIMD
    CheckSIMD --> AddDefine
    CheckSIMD --> AddCompilerFlag
    AddDefine --> FinalFlags
    AddCompilerFlag --> FinalFlags
```
Sources: [src/Makefile260-294](https://github.com/official-stockfish/Stockfish/blob/c27c1747/src/Makefile#L260-L294) [src/Makefile707-817](https://github.com/official-stockfish/Stockfish/blob/c27c1747/src/Makefile#L707-L817)

## Network File Management

The build system automatically downloads required NNUE neural network files using the `net` target.

### Network Download Mechanism

```mermaid
flowchart TD
    Target["net targetlines 1014-1015"]
    Script["Execute ../scripts/net.shline 1015"]
    Download["Download network files:nn-*.nnue files"]
    Verify["Verify checksums"]
    Place["Place in expected location"]

    Target --> Script
    Script --> Download
    Download --> Verify
    Verify --> Place
```
The `net` target is a prerequisite for most build operations, ensuring the network files are present before compilation. It is called by:

-   `build` target (line 968)
-   `profile-build` target (line 971)
-   `config-sanity` target (line 1026)
-   `analyze` target (line 965)

Sources: [src/Makefile1014-1015](https://github.com/official-stockfish/Stockfish/blob/c27c1747/src/Makefile#L1014-L1015) [src/Makefile968-971](https://github.com/official-stockfish/Stockfish/blob/c27c1747/src/Makefile#L968-L971)

## Configuration Options

The build system supports several high-level configuration flags that modify the build behavior:

### Configuration Variables

```mermaid
flowchart TD
    Debug["debug = yes/noDefault: no"]
    Optimize["optimize = yes/noDefault: yes"]
    Sanitize["sanitize = none/Default: none"]
    Bits["bits = 32/64Auto-detected"]
    DebugEffect["debug=yes → -g -D_GLIBCXX_ASSERTIONS -D_GLIBCXX_DEBUGdebug=no → -DNDEBUGlines 641-646"]
    OptEffect["optimize=yes → -O3 -funroll-loopslines 657-683"]
    SanEffect["sanitize= → -fsanitize=lines 649-652"]
    BitsEffect["bits=64 → -DIS_64BITlines 686-688"]

    Debug --> DebugEffect
    Optimize --> OptEffect
    Sanitize --> SanEffect
    Bits --> BitsEffect
```
Sources: [src/Makefile141-165](https://github.com/official-stockfish/Stockfish/blob/c27c1747/src/Makefile#L141-L165) [src/Makefile640-688](https://github.com/official-stockfish/Stockfish/blob/c27c1747/src/Makefile#L640-L688)

### Configuration Validation

The `config-sanity` target validates all configuration parameters before building:

```mermaid
flowchart TD
    Start["config-sanity targetline 1026"]
    Print["Print configuration valueslines 1028-1062"]
    Check1["Verify debug = yes/noline 1065"]
    Check2["Verify optimize = yes/noline 1066"]
    Check3["Verify SUPPORTED_ARCH = trueline 1067"]
    Check4["Verify arch in valid listlines 1068-1071"]
    Check5["Verify bits = 32/64line 1072"]
    Check6["Verify all SIMD flagslines 1073-1088"]
    Check7["Verify comp in valid listlines 1090-1092"]
    Pass["Configuration valid"]
    Fail["Configuration invalid → exit"]

    Start --> Print
    Print --> Check1
    Check1 --> Check2
    Check2 --> Check3
    Check3 --> Check4
    Check4 --> Check5
    Check5 --> Check6
    Check6 --> Check7
    Check7 --> Pass
    Check1 --> Fail
    Check2 --> Fail
    Check3 --> Fail
```
Sources: [src/Makefile1026-1092](https://github.com/official-stockfish/Stockfish/blob/c27c1747/src/Makefile#L1026-L1092)

## Link-Time Optimization

When `optimize=yes` and `debug=no`, the build system enables Link-Time Optimization (LTO) for supported compilers:

### LTO Configuration

```mermaid
flowchart TD
    Check["optimize=yes && debug=nolines 839-840"]
    CompCheck["Compiler?"]
    Clang["clang/icx:-flto=fulllines 841-849"]
    GCC["gcc:-flto -flto-partition=one-flto=jobserver for linkinglines 853-860"]
    MinGW["mingw:-flto -flto-partition=one-save-tempslines 864-866"]
    AddToFlags["Add LTO flags to CXXFLAGS and LDFLAGS"]

    Check --> CompCheck
    CompCheck --> Clang
    CompCheck --> GCC
    CompCheck --> MinGW
    Clang --> AddToFlags
    GCC --> AddToFlags
    MinGW --> AddToFlags
```
For GCC, the `-flto=jobserver` flag enables parallel LTO compilation using the make jobserver, allowing efficient use of multiple cores during the link phase.

Sources: [src/Makefile836-869](https://github.com/official-stockfish/Stockfish/blob/c27c1747/src/Makefile#L836-L869)

## Platform-Specific Handling

The build system detects the operating system and applies platform-specific configuration:

### OS Detection and Configuration

```mermaid
flowchart TD
    DetectKernel["KERNEL = uname -sline 23"]
    DetectOS["OS = uname -o (Linux only)lines 24-26"]
    CheckWindows["Windows?"]
    CheckDarwin["macOS/Darwin?"]
    CheckAndroid["Android?"]
    Windows["target_windows = yesEXE = stockfish.exeLDFLAGS += -staticlines 29-46, 465-467"]
    Darwin["CXXFLAGS += -mmacosx-version-min=10.15CXXFLAGS += -arch lines 529-537"]
    Android["CXXFLAGS += -fPIELDFLAGS += -fPIE -pielines 873-876"]
    Unix["Default POSIX configurationCXXFLAGS += -DUSE_PTHREADSLDFLAGS += -lpthread -lrtlines 614-638"]

    DetectKernel --> DetectOS
    DetectOS --> CheckWindows
    CheckWindows --> Windows
    CheckWindows --> CheckDarwin
    CheckDarwin --> Darwin
    CheckDarwin --> CheckAndroid
    CheckAndroid --> Android
    CheckAndroid --> Unix
```
### Threading Configuration

The build system uses POSIX threads (pthreads) on all platforms except Windows with MinGW:

-   **Non-MinGW compilers**: Add `-DUSE_PTHREADS` and link with `-lpthread` (lines 614-638)
-   **MinGW**: Use Windows threads (no pthread flags)
-   **Android**: Bionic C library includes pthread, so no explicit linking needed (lines 617-637)

Sources: [src/Makefile23-46](https://github.com/official-stockfish/Stockfish/blob/c27c1747/src/Makefile#L23-L46) [src/Makefile465-467](https://github.com/official-stockfish/Stockfish/blob/c27c1747/src/Makefile#L465-L467) [src/Makefile529-537](https://github.com/official-stockfish/Stockfish/blob/c27c1747/src/Makefile#L529-L537) [src/Makefile614-638](https://github.com/official-stockfish/Stockfish/blob/c27c1747/src/Makefile#L614-L638) [src/Makefile873-876](https://github.com/official-stockfish/Stockfish/blob/c27c1747/src/Makefile#L873-L876)

## Source Files and Dependencies

The build system tracks source files and automatically generates dependencies:

### Source File Management

```mermaid
flowchart TD
    SRCS["SRCS variableAll .cpp fileslines 55-60"]
    HEADERS["HEADERS variableAll .h fileslines 62-68"]
    OBJS["OBJS = notdir SRCS:.cpp=.oObject file listline 70"]
    VPATH["VPATH = syzygy:nnue:nnue/featuresSearch path for sourcesline 72"]
    Depend[".depend fileAuto-generated dependencieslines 1142-1146"]
    Compile["Compile each .cpp → .o"]
    Link["Link OBJS → EXElines 1094-1095"]

    SRCS --> OBJS
    SRCS --> Depend
    HEADERS --> Depend
    VPATH --> Compile
    OBJS --> Link
    Depend --> Compile
```
The `.depend` file is automatically regenerated using `$(CXX) $(DEPENDFLAGS) -MM $(SRCS)` and included in the Makefile if the target is not a cleaning operation.

Sources: [src/Makefile54-72](https://github.com/official-stockfish/Stockfish/blob/c27c1747/src/Makefile#L54-L72) [src/Makefile1094-1095](https://github.com/official-stockfish/Stockfish/blob/c27c1747/src/Makefile#L1094-L1095) [src/Makefile1142-1147](https://github.com/official-stockfish/Stockfish/blob/c27c1747/src/Makefile#L1142-L1147)

## Version Information

The build system embeds version information into the binary using Git:

```mermaid
flowchart TD
    GitSHA["git rev-parse HEADGet commit SHA (8 chars)lines 820-823"]
    GitDate["git show --date=formatGet commit datelines 826-829"]
    ArchInfo["ARCH parameterlines 832-834"]
    SHA_Define["-DGIT_SHA="]
    Date_Define["-DGIT_DATE="]
    Arch_Define["-DARCH="]
    Binary["Embedded in stockfish binary"]

    GitSHA --> SHA_Define
    GitDate --> Date_Define
    ArchInfo --> Arch_Define
    SHA --> Define_Binary
    Date --> Define_Binary
    Arch --> Define_Binary
```
The `misc.o` target is forced to recompile on every build (lines 1098-1099) to ensure version information is always up-to-date.

Sources: [src/Makefile819-834](https://github.com/official-stockfish/Stockfish/blob/c27c1747/src/Makefile#L819-L834) [src/Makefile1098-1099](https://github.com/official-stockfish/Stockfish/blob/c27c1747/src/Makefile#L1098-L1099)

## Example Build Commands

Common build invocations and their effects:

| Command | Description |
| --- | --- |
| `make -j profile-build ARCH=x86-64-avx2` | Build with PGO for AVX2-capable CPUs |
| `make -j profile-build ARCH=x86-64-sse41-popcnt` | Build with PGO for older x86-64 CPUs |
| `make -j build ARCH=armv8-dotprod COMP=clang` | Build for ARM with dot product, using clang |
| `make -j build ARCH=apple-silicon` | Build for Apple Silicon Macs |
| `make build ARCH=x86-64 debug=yes sanitize=address` | Debug build with address sanitizer |
| `make net` | Download neural network files only |
| `make clean` | Remove all build artifacts |

Sources: [src/Makefile940-951](https://github.com/official-stockfish/Stockfish/blob/c27c1747/src/Makefile#L940-L951)
